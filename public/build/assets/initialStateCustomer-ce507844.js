import{r as c,j as e,e as E}from"./Footer-3cc1e7e7.js";import{i as D,M as y,Q as s,f as T,T as M,S as I}from"./Spinner-fa030b06.js";const a={id:"MODIFY_ID",name:"MODIFY_NAME",identity_document_id:"MODIFY_IDENTITY_DOCUMENT_ID",document_number:"MODIFY_DOCUMENT_NUMBER",first_phone:"MODIFY_FIRST_PHONE",second_phone:"MODIFY_SECOND_PHONE",direction:"MODIFY_DIRECTION"};function O(n,r){switch(r.type){case a.id:return{...n,id:r.payload||""};case a.name:return{...n,name:r.payload||""};case a.identity_document_id:return{...n,identity_document_id:r.payload||""};case a.document_number:return{...n,document_number:r.payload||""};case a.first_phone:return{...n,first_phone:r.payload||""};case a.second_phone:return{...n,second_phone:r.payload||""};case a.direction:return{...n,direction:r.payload||""};default:return n}}function R({customer:n,option:r,open:h,setOpen:u,setMustLoad:g,setHelper:f,actions:x=!0,mustBeToast:v=!0,focus:b=!0}){const p={method:r==="Crear"?"POST":"PUT",url:r!=="Actualizar"?"/customers/store":"/customers/update",sucessMessage:r==="Crear"?"Cliente agregado":"Cliente actualizado",loadingMessage:r!=="Actualizar"?"Agregando cliente":"Actualizando cliente"},[o,i]=c.useReducer(O,n),[_,m]=c.useState(!1),[N,j]=c.useState([]),C=t=>{t.preventDefault(),m(!0);const l=s(e.jsx(I,{message:p.loadingMessage}),{autoClose:1e4,hideProgressBar:!0});T(p.method,p.url,o).then(d=>{if(d.errors)return s.update(l,{render:e.jsx(e.Fragment,{children:e.jsx(M,{data:d.errors})}),type:s.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});s.update(l,{render:p.sucessMessage,type:s.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),x&&(g(!1),f(w=>w+1)),u(!1)}).catch(d=>{console.log(d),s.update(l,{render:"Hay problemas de conexión",type:s.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})}).finally(()=>m(!1))};return c.useEffect(()=>{(async()=>{const t=await D("/identity-documents/list");j(t)})()},[]),c.useEffect(()=>{for(const t in a){const l=a[t],d=n.hasOwnProperty(t)?n[t]:"";i({type:l,payload:d})}},[n]),e.jsxs(e.Fragment,{children:[e.jsxs(y,{option:r,open:h,setOpen:u,isLoading:_,handleSubmit:C,icon:E,text:"Cliente",children:[e.jsxs("div",{className:"relative border border-gray-600 rounded w-full order-1",children:[e.jsxs("select",{className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.identity_document_id,onChange:t=>{i({type:a.identity_document_id,payload:t.target.value})},required:!0,children:[e.jsx("option",{value:""}),N.map((t,l)=>e.jsx("option",{value:t.id,children:t.abbreviation},l))]}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Tipo de documento (opcional)"})]}),e.jsxs("div",{className:"relative border border-gray-600 rounded w-full order-1",children:[e.jsx("input",{type:"text",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent pl-3 pr-10 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 placeholder:text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.document_number,onChange:t=>{i({type:a.document_number,payload:t.target.value})}}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Documento de identidad (opcional)"})]}),e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full order-1",children:[e.jsx("input",{type:"text",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 placeholder:text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.name,onClick:()=>{var t;return(t=navigator==null?void 0:navigator.clipboard)==null?void 0:t.writeText(o.name)},onChange:t=>{i({type:a.name,payload:t.target.value})},autoFocus:b}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Nombre (opcional)"})]}),e.jsxs("div",{className:"relative border border-gray-600 rounded w-full order-1",children:[e.jsx("input",{type:"text",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 placeholder:text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.first_phone,onChange:t=>{i({type:a.first_phone,payload:t.target.value})}}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Primer teléfono (opcional)"})]}),e.jsxs("div",{className:"relative border border-gray-600 rounded w-full order-1",children:[e.jsx("input",{type:"text",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 placeholder:text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.second_phone,onChange:t=>{i({type:a.second_phone,payload:t.target.value})}}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Segundo teléfono (opcional)"})]}),e.jsxs("div",{className:"relative border border-gray-600 rounded w-full order-1 sm:col-span-2",children:[e.jsx("input",{type:"text",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600 placeholder:text-gray-600 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:o.direction,onChange:t=>{i({type:a.direction,payload:t.target.value})}}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600 peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Dirección (opcional)"})]})]}),v&&e.jsx(y.ToastifyModal,{})]})}const Y={id:"",name:"",identity_document_id:"",document_number:"",first_phone:"",second_phone:"",direction:""};export{R as C,Y as i};
