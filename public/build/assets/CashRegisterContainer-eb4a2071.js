import{j as e,I as S,s as _t,t as Et,u as kt,r as n,v as we,w as $t,x as Ne,y as Tt,k as Ft,h as de,z as K,e as ue,A as Oe,B as Se,C as Le,a as Bt,D as Ge,d as Pt,H as Mt,F as It}from"./Footer-5a793555.js";import{c as Z,s as ce,Q as y,S as O,f as J,T as re,M as Ye,u as se,a as q,i as Rt,L as ne,d as Ce,h as At,l as ie,b as X}from"./Spinner-0b2ec88a.js";import{R as xe}from"./ReactSelect-a5a841a5.js";import{C as Ht,i as zt}from"./initialStateCustomer-11164938.js";import{I as Dt}from"./ImageModal-6e5161c6.js";function Vt({cash_registerI:t,setCashRegister:s,setOption:d,setOpenModal:r,setHelper:c,setMustLoad:i,setMustAnimate:a,setIsDeleted:m,handleClick:h}){const u=()=>{ce("¿Quieres eliminar esta caja?",()=>{m(!0),a(!1);const p=y(e.jsx(O,{message:`Eliminando la caja ${t.id}`}),{autoClose:3e3,hideProgressBar:!0});J("DELETE","/cash_registers/destroy",{id:t.id}).then(j=>{if(i(!1),j.errors)return m(!1),y.update(p,{render:e.jsx(e.Fragment,{children:e.jsx(re,{data:j.errors})}),type:y.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(j.message)return m(!1),y.update(p,{render:e.jsx(e.Fragment,{children:j.message}),type:y.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});y.update(p,{render:`Caja ${t.id} ha sido eliminado.`,type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),c(l=>l+1)}).catch(j=>{y.update(p,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})},"Se eliminarán los datos asociados a esta caja como los ingresos y egresos registrados del mismo.")};return e.jsxs("div",{className:"px-8 pt-5 flex flex-col justify-between flex-1",onClick:h,children:[e.jsx("div",{className:"absolute top-1 left-2 rounded-full bg-indigo-500 w-8 h-8 flex justify-center items-center font-bold font-mono text-xl text-white",children:t.id}),e.jsx("div",{className:"absolute top-8 right-2 animate-bounce rounded-full bg-indigo-500 w-10 h-10 flex justify-center items-center font-bold font-mono text-xl text-white",children:e.jsx(S,{icon:_t,size:"30px"})}),e.jsx("img",{src:"/image/caja.png",alt:"caja"}),e.jsxs("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold",children:["Caja ",Z(t.created_at)]}),e.jsxs("div",{className:"uppercase tracking-wide text-sm text-indigo-700 font-bold",children:["Monto inicial: S/ ",t.initial_amount]}),t.total&&e.jsxs("div",{className:"uppercase tracking-wide text-sm font-bold",children:["Total: S/ ",t.total]}),e.jsx("div",{className:`${t.state===0?"bg-red-400 text-amber-200 ":"bg-green-400 text-black "} uppercase tracking-wide text-sm font-semibold rounded-lg w-fullpx-4 py-1 flex justify-center`,children:t.state!==0?e.jsxs(e.Fragment,{children:[e.jsx(S,{css:"me-2",icon:Et}),"Abierto"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{css:"me-2",icon:kt}),"Cerrado"]})}),e.jsxs("div",{className:"my-3 flex gap-2 mx-auto",onClick:p=>p.stopPropagation(),children:[t.state===0?e.jsx("button",{type:"button",className:"bg-green-300 rounded-md py-1 px-4 font-semibold hover:bg-green-400",onClick:()=>{d("Actualizar"),r(!1),s(t),setTimeout(()=>{document.getElementById("btn_to_submit").click()},200)},children:"Abrir caja"}):e.jsx("button",{className:"bg-vetsky rounded-md py-1 px-4 font-semibold hover:bg-gray-400",onClick:()=>{d("Actualizar"),r(!0),s(t)},children:"Editar"}),e.jsx("button",{className:"bg-vetbrown rounded-md py-1 px-4 text-white font-semibold hover:bg-gray-500",onClick:u,children:"Eliminar"})]})]})}const ae={id:"MODIFY_ID",initial_amount:"MODIFY_INITIAL_AMOUNT"};function qt(t,s){switch(s.type){case ae.id:return{...t,id:s.payload};case ae.initial_amount:return{...t,initial_amount:s.payload};default:return t}}function Ot({cashRegister:t,option:s,open:d,setOpen:r,setMustLoad:c,setHelper:i}){const a={method:s==="Crear"?"POST":"PUT",url:s!=="Actualizar"?"/cash_registers/store":"/cash_registers/update",sucessMessage:s==="Crear"?"Caja agregada":"Caja actualizada",loadingMessage:s!=="Actualizar"?"Agregando caja":"Actualizando caja"},[m,h]=n.useReducer(qt,t),[u,p]=n.useState(!1),j=l=>{l.preventDefault(),p(!0);const o=y(e.jsx(O,{message:a.loadingMessage}),{autoClose:1e4,hideProgressBar:!0});J(a.method,a.url,m).then(x=>{if(x.errors)return y.update(o,{render:e.jsx(e.Fragment,{children:e.jsx(re,{data:x.errors})}),type:y.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(x.message)return y.update(o,{render:e.jsx(e.Fragment,{children:x.message}),type:y.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});y.update(o,{render:a.sucessMessage,type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),c(!1),i(f=>f+1),r(!1)}).catch(x=>{console.log(x),y.update(o,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})}).finally(()=>p(!1))};return n.useEffect(()=>{for(const l in ae){const o=ae[l],x=t.hasOwnProperty(l)?t[l]:"";h({type:o,payload:x})}},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Ye,{option:s,open:d,setOpen:r,isLoading:u,handleSubmit:j,icon:we,text:"Caja",children:e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full order-1",children:[e.jsx("input",{type:"number",step:"any",min:0,className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:m.initial_amount,onChange:l=>{h({type:ae.initial_amount,payload:l.target.value})},required:!0,autoFocus:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Monto inicial"})]})}),e.jsx(Ye.ToastifyModal,{})]})}let oe;const Lt=new Uint8Array(16);function Yt(){if(!oe&&(oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(Lt)}const T=[];for(let t=0;t<256;++t)T.push((t+256).toString(16).slice(1));function Ut(t,s=0){return T[t[s+0]]+T[t[s+1]]+T[t[s+2]]+T[t[s+3]]+"-"+T[t[s+4]]+T[t[s+5]]+"-"+T[t[s+6]]+T[t[s+7]]+"-"+T[t[s+8]]+T[t[s+9]]+"-"+T[t[s+10]]+T[t[s+11]]+T[t[s+12]]+T[t[s+13]]+T[t[s+14]]+T[t[s+15]]}let Ue,ye,je=0,fe=0;function ve(t,s,d){let r=s&&d||0;const c=s||new Array(16);t=t||{};let i=t.node||Ue,a=t.clockseq!==void 0?t.clockseq:ye;if(i==null||a==null){const l=t.random||(t.rng||Yt)();i==null&&(i=Ue=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),a==null&&(a=ye=(l[6]<<8|l[7])&16383)}let m=t.msecs!==void 0?t.msecs:Date.now(),h=t.nsecs!==void 0?t.nsecs:fe+1;const u=m-je+(h-fe)/1e4;if(u<0&&t.clockseq===void 0&&(a=a+1&16383),(u<0||m>je)&&t.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");je=m,fe=h,ye=a,m+=122192928e5;const p=((m&268435455)*1e4+h)%4294967296;c[r++]=p>>>24&255,c[r++]=p>>>16&255,c[r++]=p>>>8&255,c[r++]=p&255;const j=m/4294967296*1e4&268435455;c[r++]=j>>>8&255,c[r++]=j&255,c[r++]=j>>>24&15|16,c[r++]=j>>>16&255,c[r++]=a>>>8|128,c[r++]=a&255;for(let l=0;l<6;++l)c[r+l]=i[l];return s||Ut(c)}function Gt({children:t,option:s,open:d,setOpen:r,handleClick:c,icon:i,text:a,loading:m,width:h}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${d?"scale-100":"scale-0"} fixed inset-0 bg-black opacity-60 z-10 transition-all duration-300 ease-out`}),e.jsx("div",{className:`fixed top-0 left-0 w-full h-full flex items-center justify-center transition-all duration-500 ease-out transform ${d?"":"translate-y-[-200%]"}`,style:{zIndex:"40"},children:e.jsx("div",{className:`w-full ${h||"max-w-2xl"} max-h-full mx-3 overflow-y-auto`,children:e.jsxs("div",{className:"relative rounded-lg shadow bg-white z-40",children:[e.jsxs("div",{className:"flex items-start p-4 border-b rounded-t border-gray-600",children:[e.jsx($t,{icon:i,className:"text-gray-700  text-3xl mx-3"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 ",children:a}),e.jsx("button",{type:"button",className:"bg-gray-300 right-0 top-0 absolute p-3 rounded-xl m-2 opacity-80 hover:opacity-45",onClick:()=>r(!1),children:e.jsx(S,{css:"text-green-800",icon:Ne,size:"22px"})})]}),e.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-6",children:t}),e.jsxs("div",{className:"flex justify-end p-6 space-x-2 border-t rounded-b border-gray-600",children:[e.jsx("button",{type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center disabled:bg-red-600 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:c,disabled:m,children:s}),e.jsx("button",{type:"button",className:"focus:ring-4 focus:outline-none rounded-lg border text-sm font-medium px-5 py-2.5 focus:z-10 bg-gray-500 text-white border-gray-500 hover:bg-gray-600 focus:ring-gray-600",onClick:()=>r(!1),children:"Cerrar"})]})]})})})]})}const C={prod:"product",serv:"service",expen:"expense",vous:"vouchers",vou:"voucher"},le={inc:"income",exp:"expense"};function D({cashRegister:t,handleClose:s,setHelper:d,setMustLoad:r,transitionName:c,setTransitionName:i,setImage:a,hide:m,setHide:h}){const[u,p]=n.useState(C.vous),[j,l]=n.useState([]),[o,x]=n.useState([]),[f,b]=n.useState(1),[w,g]=n.useState(6),[v,N]=n.useState(""),[_,B]=n.useState(!0),[H,L]=n.useState(!1),[M,I]=n.useState(0),[R,V]=n.useState(null);n.useEffect(()=>{u===C.prod?(V(null),l(["Transacción","Imagen","Producto","Precio","cantidad","subtotal","Cliente","descripción","fecha","voucher","eliminar"])):u===C.serv?(V(null),l(["Transacción","Servicio","Precio","cantidad","subtotal","Cliente","descripción","fecha","voucher","eliminar"])):u===C.expen?(V(null),l(["Transacción","subtotal","Razón","fecha","eliminar"])):u===C.vous?l(["Código","Cliente","fecha","eliminar"]):u===C.vou&&l(["Producto / Servicio","Precio","cantidad","subtotal","descripción","fecha","eliminar"])},[u]);const G=()=>{ce("¿Quieres cerrar esta caja?",()=>{const z=y(e.jsx(O,{message:"Cerrando caja"}),{autoClose:3e3,hideProgressBar:!0});J("PUT","/cash_registers/update_state",{id:t.id}).then(A=>{y.update(z,{render:"La caja ha sido cerrada.",type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),s(),r(!1),d(k=>k+1)}).catch(A=>{console.log(A),y.update(z,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})},"¡Solo un administrador podrá volver a abrirla!","¡ciérralo!")},Y=z=>{ce("¿Quieres eliminar este movimiento?",()=>{const A=y(e.jsx(O,{message:"Eliminando movimiento"}),{autoClose:3e3,hideProgressBar:!0});J("DELETE","/cash_registers/destroy_movement",{id:z,cash_register_id:t.id}).then(k=>{if(B(!1),k.errors)return y.update(A,{render:e.jsx(e.Fragment,{children:e.jsx(re,{data:k.errors})}),type:y.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(k.message)return y.update(A,{render:e.jsx(e.Fragment,{children:k.message}),type:y.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});y.update(A,{render:"El movimiento ha sido eliminado.",type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),I(ee=>ee+1)}).catch(k=>{y.update(A,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})})},U={id:t.id,setData:x,page:f,limit:w,helper:M,searchByFilter:v,mustLoad:_,handleDelete:Y};return e.jsx("section",{className:`${t.id!==null?"translate-y-0":"translate-y-[200%]"} transition-all duration-500 ease-in fixed bg-slate-50 z-30 bottom-0 left-0 px-3 md:px-5 ${H?"overflow-hidden":"overflow-y-auto"} rounded-t-2xl w-screen h-[99vh] mt-2 pb-10`,children:t.id!==null?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-gray-400 right-0 absolute p-3 rounded-xl m-2 opacity-80 hover:opacity-45 z-40 animate-bounce",onClick:s,children:e.jsx(S,{css:"text-green-900",icon:Ne,size:"22px"})}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(D.Header,{message:`Caja ${t.name}`,messageButton:"Agregar movimiento",disabled:t.state===0,handleClick:()=>L(!0)}),e.jsx("div",{className:"mb-4",children:e.jsx(We,{names:[{name:"Productos",value:C.prod},{name:"Servicios",value:C.serv},{name:"Egresos",value:C.expen},{name:"Vouchers",value:C.vous},{name:"Voucher",value:C.vou}],optionSearch:u,setOptionSearch:p,anotherAction:!0,action:z=>{N(""),B(!0),b(1)}})}),e.jsx(D.Search,{render:u!==C.vou,setSearchByFilter:N,setMustLoad:B,setPage:b,placeholder:C.prod==u?"Buscar por nombre del producto":C.serv==u?"Buscar por nombre del servicio":C.expen==u?"Buscar por razón de egreso":"Buscar por código de voucher / Nombre o número de documento del cliente",hide:!v,data:[{tag:C.vous==u?"código / nombre o documento del cliente":C.vou==u?"código":C.expen==u?"razón":"nombre",input:v,handleClick:()=>N("")}]}),e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:j}),u===C.prod?e.jsx(F.BodyProductTable,{...U,setOptionSearch:p,setSearchByFilter:N,transitionName:c,setTransitionName:i,setImage:a,hide:m}):u===C.serv?e.jsx(F.BodyServiceTable,{...U,setOptionSearch:p,setSearchByFilter:N}):u===C.expen?e.jsx(F.BodyExpenseTable,{...U}):u===C.vous?e.jsx(ts,{cashId:t.id,page:f,limit:w,searchByFilter:v,helper:M,setData:x,mustLoad:_,setOptionSearch:p,setSearchByFilter:N,setCashHelper:V,setHelper:I,setMustLoad:B}):u===C.vou?e.jsx(F.BodyVoucherTable,{id:R||t.id,searchByFilter:v,mustLoad:_,helper:M,handleDelete:Y}):null]}),e.jsx(D.ExcelButton,{id:t.id}),u===C.vou?null:e.jsx(D.Pagination,{pageQuantity:o.current_page*o.per_page,quantity:o.total,setLimit:g,setPage:b,nextPage:o.next_page_url,prevPage:o.prev_page_url,page:o.current_page,lastPage:o.last_page}),t.state!==0&&e.jsxs(e.Fragment,{children:[e.jsx(D.SectionCashRegisterModal,{cashRegisterId:t.id,open:H,setOpen:L,setHelper:I,transitionName:c,setTransitionName:i,setImage:a,setHide:h}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",className:"bg-red-600 w-full lg:w-1/2 px-3 py-4 leading-[1.6] mt-5 rounded-xl hover:rotate-[1deg] transition ease-out text-white text-xl",onClick:G,children:"Cerrar caja"})})]})]}):null})}function Wt({message:t,messageButton:s,disabled:d,handleClick:r}){return e.jsxs("header",{className:"w-full flex flex-wrap justify-center md:justify-between md:px-7 text-gray-700",children:[e.jsxs("p",{className:"font-bold text-4xl text-center",children:[e.jsx(S,{icon:we,css:"mr-3",size:"37px"}),t]}),e.jsx("button",{className:`bg-sky-700 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded mr-4 mb-4 mt-4 sm:mt-0 shadow-xl ${d&&"opacity-0"}`,disabled:d,onClick:r,children:s})]})}function We({names:t,optionSearch:s,setOptionSearch:d,anotherAction:r=!1,action:c}){return e.jsx("div",{className:"w-full flex flex-wrap gap-1",children:t.map((i,a)=>e.jsx("button",{type:"button",className:`${s===i.value?"bg-sky-400":"bg-sky-900 hover:bg-sky-400"} py-2 rounded-lg flex-grow text-white font-semibold min-w-24`,onClick:()=>{d(i.value),r&&c(i)},children:i.name},a))})}function Qt({render:t,setSearchByFilter:s,setMustLoad:d,setPage:r,placeholder:c,hide:i,data:a}){const[m,h]=n.useState(""),{debounceValue:u}=se(m,500);return n.useEffect(()=>{d(!0),s(u),r(1)},[u]),e.jsxs(e.Fragment,{children:[t&&e.jsxs("div",{className:"relative min-w-[calc(80%)] bg-white rounded-full shadow-lg border",children:[e.jsx("input",{type:"text",placeholder:c,className:"w-full bg-transparent focus:outline-none ml-2 py-2 ps-3 pe-12 md:pe-16 font-semibold",value:m,onChange:p=>{h(p.target.value)}}),e.jsx(S,{css:"absolute inset-y-2.5 right-4 text-green-600",icon:Bt,size:"20px"})]}),e.jsxs("section",{className:`${i&&"hidden"} px-2 py-1 overflow-hidden flex flex-wrap cursor-pointer`,children:[e.jsx("span",{className:"font-medium me-4 text-black",children:"Filtro: "}),a.map((p,j)=>p.input?e.jsxs("div",{className:"bg-sky-400 rounded-lg py-1 px-2 me-2 hover:bg-vetgreen-100 cursor-pointer text-sm",onClick:()=>{p.handleClick(),h("")},children:[e.jsx(S,{css:"px-1 me-1",icon:Ne,size:"13px"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[p.tag,": "]}),p.input]})]},j):null)]})]})}function Xt({id:t}){const[s,d]=n.useState(2);return n.useEffect(()=>{const c=document.getElementById("cash_register").getAttribute("role");d(c)},[]),e.jsx(e.Fragment,{children:s==1?e.jsx("a",{href:`/cash_registers/get_excel_by_cash_register?id=${t}`,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded inline-flex items-center mt-5 w-full sm:w-auto",children:e.jsxs("span",{className:"mx-auto",children:[e.jsx(S,{icon:Ge,css:"mr-2",size:"25px"}),"Descargar Excel"]})}):null})}function F({children:t,css:s}){return e.jsx("main",{className:"mx-auto mt-2",children:e.jsx("div",{className:"flex flex-col overflow-hidden",children:e.jsx("div",{className:"py-2 -my-2 sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8",children:e.jsx("div",{className:`overflow-x-auto h-auto ${s||"rounded-lg"} border border-gray-400`,children:e.jsx("table",{className:`min-w-full rounded-lg ${s||"rounded-lg"}`,children:t})})})})})}function Jt({names:t,css:s}){return e.jsx("thead",{className:`sticky top-0 ${s||""}`,children:e.jsx("tr",{children:t.map((d,r)=>e.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50",children:d},r))})})}function Kt({id:t,setData:s,page:d,limit:r,helper:c,searchByFilter:i,mustLoad:a,handleDelete:m,setOptionSearch:h,setSearchByFilter:u,transitionName:p,setTransitionName:j,setImage:l,hide:o}){const x=`/cash_registers/get_products/${t}?page=${d}&limit=${r}&filter=name&inputFilter=${i}`,{data:f,loading:b}=q(x,[d,r,c,i]);return n.useEffect(()=>{b||s(f)},[f,b]),e.jsx(Qe,{loading:b,mustLoad:a,message:"Cargando ingresos de productos",data:f,handleDelete:m,setOptionSearch:h,setSearchByFilter:u,transitionName:p,setTransitionName:j,setImage:l,hide:o})}function Zt({id:t,setData:s,page:d,limit:r,helper:c,searchByFilter:i,mustLoad:a,handleDelete:m,setOptionSearch:h,setSearchByFilter:u}){const p=`/cash_registers/get_services/${t}?page=${d}&limit=${r}&filter=name&inputFilter=${i}`,{data:j,loading:l}=q(p,[d,r,c,i]);return n.useEffect(()=>{l||s(j)},[j,l]),e.jsx(Qe,{loading:l,mustLoad:a,message:"Cargando ingresos de servicios",data:j,handleDelete:m,setOptionSearch:h,setSearchByFilter:u})}function Qe({loading:t,mustLoad:s,message:d,data:r,handleDelete:c,setOptionSearch:i,setSearchByFilter:a,transitionName:m,setTransitionName:h,setImage:u,hide:p}){var j,l;return e.jsx("tbody",{className:"bg-white text-center",children:t&s?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(ne,{message:d})})}):((j=r.data)==null?void 0:j.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ue,css:"mr-3"}),"No hay datos disponibles."]})})})}):(l=r.data)==null?void 0:l.map((o,x)=>{var f,b,w,g,v,N,_,B,H,L,M,I;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"mx-auto text-center",children:[e.jsx(S,{icon:Oe,css:"text-green-600",size:"22px"}),e.jsx(S,{icon:Oe,css:"text-green-600",size:"22px"}),e.jsx("div",{className:"text-sm leading-5 text-gray-500 font-semibold",children:"Ingreso"})]})})}),o.product_image_url&&e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 h-24",children:e.jsx("div",{className:"text-gray-900 w-20 mx-auto",children:e.jsx("img",{src:o.product_image_url,alt:o.name,className:`rounded-sm h-16 mx-auto cursor-pointer ${p>0?"opacity-0":""}`,onClick:()=>{document.startViewTransition?document.startViewTransition(()=>{de.flushSync(()=>{h(`${o.name}-${o.id}`),u({url:o.product_image_url,label:o.name})})}):de.flushSync(()=>{h(`${o.name}-${o.id}`),u({url:o.product_image_url,label:o.name})})},style:{viewTransitionName:!m&&`${o.name}-${o.id}`}})})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 max-w-40 overflow-hidden mx-auto",children:o.name})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",o.price]})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:(f=o.pivot)==null?void 0:f.quantity})}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-20",children:["S/ ",(b=o.pivot)==null?void 0:b.subtotal]})}),e.jsxs("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:[e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:(w=o.customer)==null?void 0:w.name}),e.jsxs("div",{className:"text-sm leading-5 text-gray-700 w-40 overflow-hidden mx-auto",children:[((v=(g=o.customer)==null?void 0:g.identity_document)==null?void 0:v.abbreviation)&&`${(_=(N=o.customer)==null?void 0:N.identity_document)==null?void 0:_.abbreviation}:`," ",(B=o.customer)==null?void 0:B.document_number]})]}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative max-w-[200px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 max-w-48 overflow-hidden mx-auto",children:((H=o.pivot)==null?void 0:H.description)||"--"})}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700",children:Z((L=o.pivot)==null?void 0:L.created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce((M=o.pivot)==null?void 0:M.created_at)})]})}),e.jsx("td",{className:"py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("button",{className:"bg-red-500 hover:bg-red-700 text-sm leading-5 w-full text-white flex flex-col items-center p-1 rounded",onClick:()=>{var R;i(C.vou),a((R=o.pivot)==null?void 0:R.voucher_id)},children:[e.jsx(S,{icon:Se,css:"mx-auto",size:"24px"}),e.jsx("p",{css:"text-center",children:(I=o.pivot)==null?void 0:I.voucher_id})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var R;return c((R=o.pivot)==null?void 0:R.id)},children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},x)})})}function es({id:t,setData:s,page:d,limit:r,helper:c,searchByFilter:i,mustLoad:a,handleDelete:m}){var j,l;const h=`/cash_registers/get_expenses/${t}?page=${d}&limit=${r}&filter=name&inputFilter=${i}`,{data:u,loading:p}=q(h,[d,r,c,i]);return n.useEffect(()=>{p||s(u)},[u,p]),e.jsx("tbody",{className:"bg-white",children:p&a?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(ne,{message:"Cargando egresos"})})}):((j=u.data)==null?void 0:j.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ue,css:"mr-3"}),"No hay datos disponibles."]})})})}):(l=u.data)==null?void 0:l.map((o,x)=>{var f,b,w;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"mx-auto text-center",children:[e.jsx(S,{icon:Le,css:"text-red-600",size:"22px"}),e.jsx(S,{icon:Le,css:"text-red-600",size:"22px"}),e.jsx("div",{className:"text-sm leading-5 text-gray-500 font-semibold",children:"Egreso"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center w-40",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",(f=o.pivot)==null?void 0:f.subtotal]})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative min-w-[400px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:o.reason})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700",children:Z((b=o.pivot)==null?void 0:b.created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce((w=o.pivot)==null?void 0:w.created_at)})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var g;return m((g=o.pivot)==null?void 0:g.id)},children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},x)})})}function ts({cashId:t,page:s,limit:d,searchByFilter:r,helper:c,setData:i,mustLoad:a,setOptionSearch:m,setSearchByFilter:h,setCashHelper:u,setHelper:p,setMustLoad:j}){var b,w;const l=`/cash_registers/get_all_vouchers?page=${s}&limit=${d}&inputFilter=${r}`,{data:o,loading:x}=q(l,[s,d,c,r]);n.useEffect(()=>{x||i(o)},[o,x]);const f=(g,v)=>{ce(`¿Seguro(a) que quieres eliminar el voucher ${g}?`,()=>{const N=y(e.jsx(O,{message:"Eliminando voucher"}),{autoClose:3e3,hideProgressBar:!0});J("DELETE","/cash_registers/destroy_voucher",{voucher_id:g,cash_register_id:v}).then(_=>{if(j(!1),_.errors)return y.update(N,{render:e.jsx(e.Fragment,{children:e.jsx(re,{data:_.errors})}),type:y.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(_.message)return y.update(N,{render:e.jsx(e.Fragment,{children:_.message}),type:y.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});y.update(N,{render:`El voucher ${g} ha sido eliminado.`,type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),p(B=>B+1)}).catch(_=>{y.update(N,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})})};return e.jsx("tbody",{className:"bg-white",children:x&a?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(ne,{message:"Cargando vouchers"})})}):((b=o.data)==null?void 0:b.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ue,css:"mr-3"}),"No hay datos disponibles."]})})})}):(w=o.data)==null?void 0:w.map((g,v)=>e.jsxs("tr",{className:`${t===g.cash_id&&"bg-gray-300"} hover:bg-sky-200`,children:[e.jsx("td",{className:"py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative w-96",children:e.jsxs("button",{className:"bg-red-500 hover:bg-red-700 text-sm leading-5 w-40 md:w-3/4 mx-auto text-white flex flex-col items-center p-1 rounded",onClick:()=>{u(g.cash_id),m(C.vou),h(g.voucher_id)},children:[e.jsx(S,{icon:Se,css:"mx-auto",size:"24px"}),e.jsx("p",{css:"text-center",children:g.voucher_id})]})}),e.jsxs("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:[e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:g.customer}),e.jsxs("div",{className:"text-sm leading-5 text-gray-700 w-40 overflow-hidden mx-auto",children:[g.abbreviation&&`${g.abbreviation}:`," ",g.doc_customer]})]}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700 md:hidden",children:Z(g.max_created_at)}),e.jsx("p",{className:"text-gray-700 text-base hidden md:block",children:At(g.max_created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce(g.max_created_at)})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative w-36",children:e.jsx("div",{className:"text-center",onClick:()=>f(g.voucher_id,g.cash_id),children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},v))})}function ss({id:t,searchByFilter:s,mustLoad:d,helper:r,handleDelete:c}){var j,l,o,x,f;const i=`/cash_registers/get_voucher/${t}?inputFilter=${s}`,{data:a,loading:m}=q(i,[s,r]),[h,u]=n.useState("");n.useEffect(()=>{var b,w;u((w=(b=a.voucher)==null?void 0:b.reduce((g,v)=>{var N;return g+parseFloat((N=v.pivot)==null?void 0:N.subtotal)},0))==null?void 0:w.toFixed(2))},[a]);const p=()=>{const b=`/cash_registers/get_voucher_pdf/${t}?uuid=${s}`;window.open(b,"_blank")};return e.jsx("tbody",{className:"bg-white",children:m&d?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{children:e.jsx(ne,{message:"Cargando voucher"})})})}):e.jsxs(e.Fragment,{children:[(j=a.voucher)==null?void 0:j.map((b,w)=>{var g,v,N,_;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:b.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",b.price]})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center ",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:(g=b.pivot)==null?void 0:g.quantity})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-20",children:["S/ ",(v=b.pivot)==null?void 0:v.subtotal]})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 min-w-24",children:(N=b.pivot)==null?void 0:N.description})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"min-w-28 text-center",children:e.jsx("p",{className:"text-gray-700",children:Z((_=b.pivot)==null?void 0:_.created_at)})})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var B;return c((B=b.pivot)==null?void 0:B.id)},children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},w)}),e.jsx("tr",{className:"hover:bg-sky-200",children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",colSpan:100,children:e.jsxs("div",{className:"text-lg font-bold leading-5 text-gray-900 text-center",children:["Cliente: ",(l=a.customer)==null?void 0:l.name," - ",((x=(o=a.customer)==null?void 0:o.identity_document)==null?void 0:x.abbreviation)||"-",": ",((f=a.customer)==null?void 0:f.document_number)||"--"]})})}),e.jsx("tr",{className:"hover:bg-sky-200",children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",colSpan:100,children:e.jsxs("div",{className:"text-lg font-bold leading-5 text-gray-600 text-center",children:["Total: S/ ",h]})})}),h>0&&e.jsx("tr",{className:"hover:bg-red-300",onClick:p,children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 cursor-pointer",colSpan:100,children:e.jsxs("div",{className:"text-center text-red-800 font-bold text-xl animate-bounce",children:["Presiona aquí para verlo en ",e.jsx(S,{icon:Se,css:"text-red-800 hover:scale-125 transition ease-out cursor-pointer",size:"35px"})]})})})]})})}function as({pageQuantity:t,quantity:s,setLimit:d,setPage:r,nextPage:c,prevPage:i,page:a,lastPage:m}){return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"flex justify-between items-center mt-4 px-1 sm:px-5",children:[e.jsxs("div",{className:"hidden xl:block text-black rounded-lg",children:["Mostrando ",t>s?s:t," de ",s," resultados"]}),e.jsx("button",{className:"xl:hidden bg-white border px-4 py-2 text-gray-600 hover:text-indigo-500 hover:bg-gray-200 cursor-pointer rounded-lg",disabled:!i,onClick:()=>{i&&r(parseInt(ie(i)))},children:"Anterior"}),e.jsxs("div",{className:"hidden xl:block text-vetbrown rounded-full bg-white border border-vetbrown p-2 mb-1",children:[e.jsx("span",{className:"",children:" Por página: "}),e.jsxs("select",{className:"px-2 py-1 bg-transparent rounded-lg cursor-pointer",defaultValue:"6",onChange:h=>{d(h.target.value),r(1)},children:[e.jsx("option",{value:"6",className:"bg-white",children:"6"}),e.jsx("option",{value:"12",className:"bg-white",children:"12"}),e.jsx("option",{value:"20",className:"bg-white",children:"20"})]})]}),e.jsx("div",{className:"xl:hidden text-gray-600 rounded-xl bg-white border border-gray-200 p-2",children:e.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded-lg cursor-pointer",defaultValue:"6",onChange:h=>{d(h.target.value),r(1)},children:[e.jsx("option",{value:"6",className:" bg-white",children:"6"}),e.jsx("option",{value:"12",className:" bg-white",children:"12"}),e.jsx("option",{value:"20",className:" bg-white",children:"20"})]})}),e.jsxs("nav",{className:"hidden xl:flex rounded-lg divide-vetbrown ease-out duration-300",children:[e.jsx("button",{className:`px-4 py-2 text-vetbrown bg-white border border-vetbrown rounded-l-full ${i&&"hover:text-indigo-500 hover:scale-[105%]"}`,disabled:!i,onClick:()=>{i&&r(parseInt(ie(i)))},children:"Anterior"}),a!==1&&e.jsx("button",{className:"px-4 py-2 text-indigo-800 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{r(1)},children:1}),1-a<-2&&a!=1&&e.jsx("span",{className:"px-4 py-2 bg-white text-gray-500",children:"..."}),1-a<-1&&a!=1&&e.jsx("button",{className:"px-4 py-2 text-gray-600 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{r(h=>h-1)},children:parseInt(a)-1}),e.jsx("button",{className:"px-4 py-2 text-indigo-500 bg-vetwhite border border-vetbrown font-medium",children:a}),m-a>0&&e.jsx("button",{className:"px-4 py-2 text-gray-600 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{r(h=>h+1)},children:parseInt(a)+1}),m-a>2&&e.jsx("span",{className:"px-4 py-2 bg-white  text-gray-600",children:"..."}),m-a>2&&e.jsx("button",{className:"px-4 py-2 bg-white text-gray-600 hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{r(parseInt(m))},children:m}),e.jsx("button",{className:`px-4 py-2 text-vetbrown rounded-r-full bg-white border border-vetbrown ${c&&"hover:text-indigo-500 hover:scale-[105%]"}`,disabled:!c,onClick:()=>{c&&r(parseInt(ie(c)))},children:"Siguiente"})]}),e.jsx("button",{className:"xl:hidden bg-white border px-4 py-2 text-gray-600 hover:text-indigo-500 hover:bg-gray-200 cursor-pointer rounded-lg",disabled:!c,onClick:()=>{c&&r(parseInt(ie(c)))},children:"Siguiente"})]}),e.jsxs("div",{className:"block xl:hidden text-black rounded-lg text-center mt-5",children:["Mostrando ",t>s?s:t," de ",s," resultados"]})]})}function P({cashRegisterId:t,open:s,setOpen:d,setHelper:r,transitionName:c,setTransitionName:i,setImage:a,setHide:m}){const h={id:ve(),img:"",product_id:"",name:"",price:0,quantity:1,description:""},u={id:ve(),service_id:"",name:"",price:0,quantity:1,description:""},p={id:ve(),expense_id:"",reason:"",subtotal:0},[j,l]=n.useState(!1),[o,x]=n.useState(le.inc),[f,b]=n.useState(1),[w,g]=n.useState(0),[v,N]=n.useState(""),[_,B]=n.useState(""),[H,L]=n.useState(1),[M,I]=n.useState(""),[R,V]=n.useState("name"),[G,Y]=n.useState(""),[U,z]=n.useState(1),[A,k]=n.useState(!1),[ee,Ze]=n.useState(!1),{debounceValue:_e}=se(G,400),{data:et,loading:Ee}=q(`/customers/list?filter=${R}&inputFilter=${_e}`,[U],ee),[tt,st]=n.useState(h),[W,me]=n.useState([]),[ke,$e]=n.useState(""),[at,Te]=n.useState(1),[rt,nt]=n.useState(!1),[it,ot]=n.useState(!1),{debounceValue:Fe}=se(ke,400),{data:lt,loading:Be}=q(`/products/list?filter=name&inputFilter=${Fe}`,[at],it),[dt,ct]=n.useState(u),[Q,pe]=n.useState([]),[Pe,Me]=n.useState(""),[ut,Ie]=n.useState(1),[xt,mt]=n.useState(!1),[pt,ht]=n.useState(!1),{debounceValue:Re}=se(Pe,400),{data:gt,loading:Ae}=q(`/services/list?filter=name&inputFilter=${Re}`,[ut],pt),[bt,yt]=n.useState(p),[he,ge]=n.useState([]),[He,ze]=n.useState(""),[jt,De]=n.useState(1),[ft,vt]=n.useState(!1),[wt,Nt]=n.useState(!1),{debounceValue:Ve}=se(He,400),{data:St,loading:qe}=q(`/expenses/list?filter=reason&inputFilter=${Ve}`,[jt],wt);n.useEffect(()=>{!Be&&rt&&Te(E=>E+1)},[Fe]),n.useEffect(()=>{!Ae&&xt&&Ie(E=>E+1)},[Re]),n.useEffect(()=>{!qe&&ft&&De(E=>E+1)},[Ve]),n.useEffect(()=>{!Ee&&A&&z(E=>E+1)},[_e]),n.useEffect(()=>{var E;g(Array.isArray(W)&&Array.isArray(Q)?(E=[...W,...Q].reduce((te,$)=>te+parseFloat($.price)*parseFloat($.quantity),0))==null?void 0:E.toFixed(2):0)},[W,Q]),n.useEffect(()=>{Rt("/cash_registers/get_voucher_id").then(E=>B(E))},[H]);const Ct=()=>{l(!0);const E={cash_register_id:t,type_of_movement:f};M&&(E.customer_id=M),W.length>0&&(E.products=W.map($=>({product_id:$.product_id,quantity:$.quantity,description:$.description}))),Q.length>0&&(E.services=Q.map($=>({service_id:$.service_id,quantity:$.quantity,description:$.description}))),he.length>0&&(E.expenses=he.map($=>({expense_id:$.expense_id,subtotal:$.subtotal})));const te=y(e.jsx(O,{message:"Agregando movimiento"}),{autoClose:3e3,hideProgressBar:!0});J("POST","/cash_registers/store_movements",E).then($=>{if($.errors)return y.update(te,{render:e.jsx(e.Fragment,{children:e.jsx(re,{data:$.errors})}),type:y.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});y.update(te,{render:"Movimiento guardado.",type:y.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),I(""),Y(""),me([]),pe([]),ge([]),r(be=>be+1),d(!1),L(be=>be+1)}).catch($=>{console.log($),y.update(te,{render:"Hay problemas de conexión",type:y.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})}).finally(()=>l(!1))};return e.jsxs(Gt,{option:"Vender",open:s,setOpen:d,handleClick:Ct,icon:Tt,text:"Nuevo movimiento",loading:j,width:"max-w-5xl",children:[e.jsx("div",{className:"col-span-full",children:e.jsx(We,{names:[{name:"Ingresos",value:le.inc,movement:1},{name:"Egresos",value:le.exp,movement:2}],optionSearch:o,setOptionSearch:x,anotherAction:!0,action:E=>b(E.movement)})}),o===le.inc?e.jsxs(e.Fragment,{children:[e.jsxs(P.ButtonContainer,{css:"border-2 border-gray-200 bg-gray-300",children:[e.jsx("span",{className:"text-base absolute -translate-y-2 -translate-x-12",children:"Comprobante"}),e.jsx("p",{className:"text-2xl font-bold text-gray-500 mt-2",children:_||"V-00000001"})]}),e.jsx(P.ButtonContainer,{css:"bg-blue-500 hover:bg-blue-700 order-5 mt-10",children:e.jsx("button",{className:"w-full text-white",onClick:()=>{I(""),Y(""),me([]),pe([]),$e(""),Me("")},children:e.jsx("code",{children:"LIMPIAR FORMULARIO"})})}),e.jsxs(P.ButtonContainer,{css:"border-2 order-4 bg-sky-800 text-white",children:["Total: S/. ",w]}),w>0&&e.jsxs(P.ButtonContainer,{css:"order-4",children:[e.jsx("h1",{className:"underline  underline-offset-2",children:"Calculadora de vuelto"}),e.jsxs("section",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"number",step:"any",min:0,max:99999,value:v,placeholder:"Cantidad de dinero ...",className:"border-2 w-full sm:w-1/2  p-1 rounded-lg bg-transparent text-center",onChange:E=>N(E.target.value)}),e.jsx("div",{className:"border-2 w-full sm:w-1/2 rounded-lg min-h-10 flex items-center justify-center",children:e.jsx("p",{children:v-w>0?`Su vuelto es de S/. ${(v-w).toFixed(2)}`:`Faltan S/. ${-(v-w).toFixed(2)}`})})]})]}),e.jsx(P.CustomerModal,{setMustSearchCustomer:k,filterCustomer:R,setFilterCustomer:V,inputCustomer:G,setInputCustomer:Y,loadingCustomer:Ee,dataCustomer:et,setCustomerId:I,setHelperSearchCustomer:Ze,setHelperCustomer:z}),e.jsx("hr",{className:"col-span-full"}),e.jsx(P.ProductModal,{setMustSearchProduct:nt,inputProduct:ke,setInputProduct:$e,loadingProduct:Be,dataProduct:lt,selectProduct:tt,setSelectProduct:st,setProducts:me,initialStateProduct:h,products:W,setHelperSearchProduct:ot,setHelperProduct:Te,transitionName:c,setTransitionName:i,setImage:a,setHide:m}),e.jsx("hr",{className:"col-span-full sm:hidden"}),e.jsx(P.ServiceModal,{setMustSearchService:mt,inputService:Pe,setInputService:Me,loadingService:Ae,dataService:gt,selectService:dt,setSelectService:ct,setServices:pe,initialStateService:u,services:Q,setHelperSearchService:ht,setHelperService:Ie}),e.jsx("hr",{className:"col-span-full"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P.ButtonContainer,{css:"bg-blue-500 hover:bg-blue-700 order-2 mt-10",children:e.jsx("button",{className:"w-full text-white",onClick:()=>{ge([]),ze("")},children:e.jsx("code",{children:"LIMPIAR FORMULARIO"})})}),e.jsx(P.ExpenseModal,{setMustSearchExpense:vt,inputExpense:He,setInputExpense:ze,loadingExpense:qe,dataExpense:St,selectExpense:bt,setSelectExpense:yt,setExpenses:ge,initialStateExpense:p,expenses:he,setHelperSearchExpense:Nt,setHelperExpense:De})]})]})}function rs({children:t,css:s=""}){return e.jsx("div",{className:`relative w-full col-span-full rounded px-3 py-[0.32rem] leading-[1.6] text-gray-600  text-center font-semibold text-lg ${s}`,children:t})}function ns({setMustSearchCustomer:t,filterCustomer:s,setFilterCustomer:d,inputCustomer:r,setInputCustomer:c,loadingCustomer:i,dataCustomer:a,setCustomerId:m,setHelperSearchCustomer:h,setHelperCustomer:u}){var l,o;const[p,j]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative w-full col-span-full grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(xe,{setMustSearch:t,filters:[{tag:"Nombre",value:"name"},{tag:"Número de documento",value:"document_number"}],filter:s,setFilter:d,input:r,setInput:c,label:"Cliente",setHelperSearch:h,setHelper:u,css:"w-full col-span-full order-1 pe-10",listStyle:"w-full max-h-72",anotherAction:!0,actions:()=>{m("")},children:i?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(O,{message:"Buscando los clientes ..."})}):((l=a.data)==null?void 0:l.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay clientes con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(o=a.data)==null?void 0:o.map((x,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{var b;t(!1),c(`${x.name} - ${((b=x.identity_document)==null?void 0:b.abbreviation)||"--"}: ${x.document_number||"--"}`),m(x.id)},children:`${x.name} - ${x.identity_document?`${x.identity_document.abbreviation}: ${x.document_number}`:"--"}`},f))})}),e.jsx("button",{type:"button",className:"order-1 absolute bottom-1 right-12 bg-gray-100 rounded-full px-2 py-1 z-10 hover:bg-gray-300",onClick:()=>j(!0),children:e.jsx(S,{icon:Ft})})]}),e.jsx("div",{className:"absolute",children:e.jsx(Ht,{customer:{...zt},option:"Crear",open:p,setOpen:j,actions:!1,mustBeToast:!1,focus:!1})})]})}function is({setMustSearchProduct:t,inputProduct:s,setInputProduct:d,loadingProduct:r,dataProduct:c,selectProduct:i,setSelectProduct:a,setProducts:m,initialStateProduct:h,products:u,setHelperSearchProduct:p,setHelperProduct:j,transitionName:l,setTransitionName:o,setImage:x,setHide:f}){var b,w;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full col-span-1 grid grid-cols-1 gap-6 sm:gap-x-6",children:[e.jsx(xe,{setMustSearch:t,input:s,setInput:d,label:"Producto",setHelperSearch:p,setHelper:j,css:"w-full max-h-10",listStyle:"w-full sm:w-[200%] max-h-72",children:r?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(O,{message:"Buscando los productos ..."})}):((b=c.data)==null?void 0:b.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay productos con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(w=c.data)==null?void 0:w.map((g,v)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 p-2 border-b rounded-lg",onClick:()=>{t(!1),d(g.name),a(N=>({...N,img:g.product_image_url,product_id:g.id,name:g.name,price:g.price}))},children:e.jsxs("article",{className:"flex flex-col sm:flex-row justify-center sm:justify-start items-center",children:[e.jsx("img",{src:g.product_image_url||"/image/juguete.webp",alt:g.name,width:"150px",className:"rounded-lg object-contain mb-6 sm:mb-0 sm:me-10"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Nombre:"})," ",`${g.name}`]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Precio:"})," ",`S/. ${g.price}`]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Stock:"})," ",`${g.stock}`," u."]})]})]})},v))})}),i.name&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Xe,{select:i,handleClick:g=>{a(v=>({...v,quantity:parseFloat(g.target.value)||""}))}}),e.jsx(Je,{select:i,handleChange:g=>{a(v=>({...v,description:g.target.value}))},handleClick:()=>{m(g=>{if(!i.product_id)return[...g];const v=u.findIndex(N=>N.product_id===i.product_id);if(v!==-1){const N=[...u];return N[v].quantity+=parseFloat(i.quantity),N}return[...g,i]}),d(""),a(h)},message:"producto"})]})]}),u.length>0&&e.jsx("div",{className:"col-span-full order-2",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["Imagen","Producto","precio","cantidad","subtotal","descripción","Eliminar"]}),e.jsx(Ke,{data:u,setData:m,transitionName:l,setTransitionName:o,setImage:x,setHide:f})]})})]})}function os({setMustSearchService:t,inputService:s,setInputService:d,loadingService:r,dataService:c,selectService:i,setSelectService:a,setServices:m,initialStateService:h,services:u,setHelperSearchService:p,setHelperService:j}){var l,o;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full col-span-1 grid grid-cols-1 gap-6 sm:gap-x-6",children:[e.jsx(xe,{setMustSearch:t,input:s,setInput:d,label:"Servicio",setHelperSearch:p,setHelper:j,css:"w-full max-h-10",listStyle:"w-full max-h-72",children:r?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(O,{message:"Buscando los servicios ..."})}):((l=c.data)==null?void 0:l.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay servicios con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(o=c.data)==null?void 0:o.map((x,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{t(!1),d(x.name),a(b=>({...b,service_id:x.id,name:x.name,price:x.price}))},children:`${x.name} ->  S/. ${x.price}`},f))})}),i.name&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Xe,{select:i,handleClick:x=>{a(f=>({...f,quantity:parseFloat(x.target.value)||""}))}}),e.jsx(Je,{select:i,handleChange:x=>{a(f=>({...f,description:x.target.value}))},handleClick:()=>{m(x=>{if(!i.service_id)return[...x];const f=u.findIndex(b=>b.service_id===i.service_id);if(f!==-1){const b=[...u];return b[f].quantity+=parseFloat(i.quantity),b}return[...x,i]}),d(""),a(h)},message:"servicio"})]})]}),u.length>0&&e.jsx("div",{className:"col-span-full order-3",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["Servicio","precio","cantidad","subtotal","descripción","Eliminar"]}),e.jsx(Ke,{data:u,setData:m})]})})]})}function Xe({select:t,handleClick:s}){return e.jsxs("div",{className:"relative border border-gray-600 rounded w-full",children:[e.jsx("input",{type:"number",step:"any",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:t.quantity,onChange:s,min:0,required:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Cantidad"})]})}function Je({select:t,handleChange:s,handleClick:d,message:r}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full",children:[e.jsx("textarea",{className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:t.description,onChange:s}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Descripción (opcional)"})]}),e.jsxs("button",{type:"button",className:"w-full col-span-full bg-blue-500 text-white font-semibold rounded-lg py-2 hover:bg-blue-700",onClick:d,children:["Agregar ",r]})]})}function Ke({data:t,setData:s,transitionName:d,setTransitionName:r,setImage:c,setHide:i}){return e.jsx("tbody",{className:"bg-white text-center",children:t.map((a,m)=>e.jsxs("tr",{className:"hover:bg-sky-200",children:[a.img&&e.jsx("td",{className:"whitespace-no-wrap border-b border-gray-200 h-20",children:e.jsx("div",{className:"text-gray-900 w-20",children:e.jsx("img",{src:a.img,alt:a.name,className:"rounded-sm h-16 mx-auto cursor-pointer",onClick:()=>{i(!0),document.startViewTransition?document.startViewTransition(()=>{de.flushSync(()=>{r(`${a.name}-${a.id}`),c({url:a.img,label:a.name})})}):de.flushSync(()=>{r(`${a.name}-${a.id}`),c({url:a.img,label:a.name})})},style:{viewTransitionName:!d&&`${a.name}-${a.id}`}})})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:a.name})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",a.price]})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:a.quantity})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",(parseFloat(a.price)*parseFloat(a.quantity)).toFixed(2)]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative max-w-[200px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-48 overflow-hidden mx-auto",children:a.description})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{onClick:()=>{const h=t.filter(u=>u.id!==a.id);s(h)},children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-125 transition ease-out  cursor-pointer",size:"25px"})})})]},m))})}function ls({setMustSearchExpense:t,inputExpense:s,setInputExpense:d,loadingExpense:r,dataExpense:c,selectExpense:i,setSelectExpense:a,setExpenses:m,initialStateExpense:h,expenses:u,setHelperSearchExpense:p,setHelperExpense:j}){var l,o;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative w-full col-span-full",children:e.jsx(xe,{setMustSearch:t,input:s,setInput:d,label:"Egresos",setHelperSearch:p,setHelper:j,children:r?e.jsx("div",{className:"w-full sm:w-1/2 mx-auto py-4",children:e.jsx(O,{message:"Buscando las razones de egreso ..."})}):((l=c.data)==null?void 0:l.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay servicios con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(o=c.data)==null?void 0:o.map((x,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{t(!1),d(x.reason),a(b=>({...b,expense_id:x.id,reason:x.reason}))},children:`${x.reason}`},f))})})}),s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full",children:[e.jsx("input",{type:"number",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:i.subtotal,onChange:x=>{a(f=>({...f,subtotal:x.target.value}))},required:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Dinero"})]}),e.jsx("button",{type:"button",className:"w-full col-span-full bg-blue-500 text-white font-semibold rounded-lg py-2 hover:bg-blue-700",onClick:()=>{i&&(m(x=>i.expense_id?[...x,i]:[...x]),d(""),a(h))},children:"Agregar razón"})]}),u.length>0&&e.jsx("div",{className:"col-span-full",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["subtotal","razón","eliminar"]}),e.jsx("tbody",{className:"bg-white text-center",children:u.map((x,f)=>e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",x.subtotal]})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200 min-w-72",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:x.reason})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{onClick:()=>{const b=u.filter(w=>w.id!==x.id);m(b)},children:e.jsx(S,{icon:K,css:"text-red-800 hover:scale-125 transition ease-out cursor-pointer",size:"25px"})})})]},f))})]})})]})}D.Header=Wt;D.Search=Qt;D.ExcelButton=Xt;D.Pagination=as;D.SectionCashRegisterModal=P;P.ButtonContainer=rs;P.CustomerModal=ns;P.ProductModal=is;P.ServiceModal=os;P.ExpenseModal=ls;F.HeaderTable=Jt;F.BodyProductTable=Kt;F.BodyServiceTable=Zt;F.BodyExpenseTable=es;F.BodyVoucherTable=ss;function ds(){var z,A;const t={id:"",initial_amount:0},[s,d]=n.useState(1),[r,c]=n.useState(12),[i,a]=n.useState(""),[m,h]=n.useState(""),[u,p]=n.useState(0),j=`/cash_registers/list?page=${s}&limit=${r}&startDate=${i}&finishDate=${m}`,{data:l,loading:o}=q(j,[s,r,u]),[x,f]=n.useState("Abrir"),[b,w]=n.useState(!1),[g,v]=n.useState(t),[N,_]=n.useState(!0),[B,H]=n.useState(!0),[L,M]=n.useState({id:null,name:"",state:1}),[I,R]=n.useState({url:"",label:""}),[V,G]=n.useState(""),[Y,U]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(Mt,{icon:we,message:"Gestión de cajas",name:"nueva caja",setOpen:w,setOption:f,setData:v,initialState:t}),e.jsxs(X,{children:[e.jsx(X.SearchDate,{setHelper:p,startDate:i,setStartDate:a,finishDate:m,setFinishDate:h,setPage:d,handleReset:()=>{a(""),h(""),d(1),_(!0),p(k=>k+1)}}),e.jsx(cs,{}),e.jsx(X.FilterBar,{hide:!i&&!m,data:[{tag:"Fecha de inicio",input:i.length>0?i:null,handleClick:()=>{a(""),d(1),p(k=>k+1)}},{tag:"Fecha de finalización",input:m.length>0?m:null,handleClick:()=>{h(""),d(1),p(k=>k+1)}}]}),e.jsx(X.CardContainer,{children:o&N?e.jsx(ne,{message:"Cargando cajas"}):((z=l.data)==null?void 0:z.length)===0?e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ue,css:"mr-3"}),"No hay datos disponibles."]})}):e.jsx(e.Fragment,{children:(A=l==null?void 0:l.data)==null?void 0:A.map((k,ee)=>e.jsx(X.CardContainer.Card,{mustAnimate:B,setMustAnimate:H,children:e.jsx(Vt,{cash_registerI:k,setCashRegister:v,setOption:f,setOpenModal:w,setHelper:p,setMustLoad:_,setMustAnimate:H,handleClick:()=>{M({id:k.id,name:Z(k.created_at),state:k.state})}})},`${k.id}-${ee}`))})}),e.jsx(X.Pagination,{pageQuantity:l.current_page*l.per_page,quantity:l.total,setMustLoad:_,setLimit:c,setPage:d,nextPage:l.next_page_url,prevPage:l.prev_page_url,page:l.current_page,lastPage:l.last_page,setMustAnimate:H})]}),V&&e.jsx(Dt,{image:I,transitionName:V,setTransitionName:G,setHide:U}),e.jsx(Ot,{cashRegister:g,option:x,open:b,setOpen:w,setMustLoad:_,setHelper:p}),e.jsx(It,{}),e.jsx(D,{cashRegister:L,handleClose:()=>M({id:null,name:"",state:1}),setHelper:p,setMustLoad:_,transitionName:V,setTransitionName:G,setImage:R,hide:Y,setHide:U})]})}function cs(){const[t,s]=n.useState(""),[d,r]=n.useState(2);return n.useEffect(()=>{const i=document.getElementById("cash_register").getAttribute("role");r(i)},[]),e.jsx(e.Fragment,{children:d==1?e.jsxs("div",{className:"bg-vetwhite shadow-2xl p-5 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-lg text-gray-600",children:"Ingresos / Egresos del mes"}),e.jsx("input",{type:"month",className:"p-2 rounded-xl bg-gray-300 w-full mt-2",value:t,onChange:c=>{s(c.target.value)}}),e.jsx("a",{href:t.length>0?`/cash_registers/get_excel_by_month?month=${t.split("-")[1]}&year=${t.split("-")[0]}`:"#",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded inline-flex mt-5 w-full",children:e.jsxs("span",{className:"mx-auto",children:[e.jsx(S,{icon:Ge,css:"mr-2",size:"25px"}),"Descargar Excel"]})})]}):null})}const us=Pt.createRoot(document.getElementById("cash_register"));us.render(e.jsx(ds,{}));
