import{j as e,I as S,s as _t,t as Et,u as kt,r as i,v as Ne,w as Tt,x as we,y as $t,k as Ft,h as Ge,z as J,e as ce,A as Oe,B as Se,C as Le,a as Bt,D as We,d as Pt,H as Mt,F as It}from"./Footer-5a793555.js";import{c as K,s as de,Q as j,S as D,f as X,T as ae,M as Ye,u as te,a as z,i as Rt,L as re,d as Ce,h as At,l as ie,b as Q}from"./Spinner-4014f47c.js";import{R as ue}from"./ReactSelect-a5a841a5.js";import{C as Ht,i as zt}from"./initialStateCustomer-db3f42bb.js";import{I as Dt}from"./ImageModal-6ecf0888.js";function Vt({cash_registerI:t,setCashRegister:s,setOption:l,setOpenModal:o,setHelper:r,setMustLoad:n,setMustAnimate:a,setIsDeleted:u,handleClick:m}){const g=()=>{de("¿Quieres eliminar esta caja?",()=>{u(!0),a(!1);const p=j(e.jsx(D,{message:`Eliminando la caja ${t.id}`}),{autoClose:3e3,hideProgressBar:!0});X("DELETE","/cash_registers/destroy",{id:t.id}).then(y=>{if(n(!1),y.errors)return u(!1),j.update(p,{render:e.jsx(e.Fragment,{children:e.jsx(ae,{data:y.errors})}),type:j.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(y.message)return u(!1),j.update(p,{render:e.jsx(e.Fragment,{children:y.message}),type:j.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});j.update(p,{render:`Caja ${t.id} ha sido eliminado.`,type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),r(c=>c+1)}).catch(y=>{j.update(p,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})},"Se eliminarán los datos asociados a esta caja como los ingresos y egresos registrados del mismo.")};return e.jsxs("div",{className:"px-8 pt-5 flex flex-col justify-between flex-1",onClick:m,children:[e.jsx("div",{className:"absolute top-1 left-2 rounded-full bg-indigo-500 w-8 h-8 flex justify-center items-center font-bold font-mono text-xl text-white",children:t.id}),e.jsx("div",{className:"absolute top-8 right-2 animate-bounce rounded-full bg-indigo-500 w-10 h-10 flex justify-center items-center font-bold font-mono text-xl text-white",children:e.jsx(S,{icon:_t,size:"30px"})}),e.jsx("img",{src:"/image/caja.png",alt:"caja"}),e.jsxs("div",{className:"uppercase tracking-wide text-sm text-indigo-500 font-semibold",children:["Caja ",K(t.created_at)]}),e.jsxs("div",{className:"uppercase tracking-wide text-sm text-indigo-700 font-bold",children:["Monto inicial: S/ ",t.initial_amount]}),t.total&&e.jsxs("div",{className:"uppercase tracking-wide text-sm font-bold",children:["Total: S/ ",t.total]}),e.jsx("div",{className:`${t.state===0?"bg-red-400 text-amber-200 ":"bg-green-400 text-black "} uppercase tracking-wide text-sm font-semibold rounded-lg w-fullpx-4 py-1 flex justify-center`,children:t.state!==0?e.jsxs(e.Fragment,{children:[e.jsx(S,{css:"me-2",icon:Et}),"Abierto"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{css:"me-2",icon:kt}),"Cerrado"]})}),e.jsxs("div",{className:"my-3 flex gap-2 mx-auto",onClick:p=>p.stopPropagation(),children:[t.state===0?e.jsx("button",{type:"button",className:"bg-green-300 rounded-md py-1 px-4 font-semibold hover:bg-green-400",onClick:()=>{l("Actualizar"),o(!1),s(t),setTimeout(()=>{document.getElementById("btn_to_submit").click()},200)},children:"Abrir caja"}):e.jsx("button",{className:"bg-vetsky rounded-md py-1 px-4 font-semibold hover:bg-gray-400",onClick:()=>{l("Actualizar"),o(!0),s(t)},children:"Editar"}),e.jsx("button",{className:"bg-vetbrown rounded-md py-1 px-4 text-white font-semibold hover:bg-gray-500",onClick:g,children:"Eliminar"})]})]})}const se={id:"MODIFY_ID",initial_amount:"MODIFY_INITIAL_AMOUNT"};function qt(t,s){switch(s.type){case se.id:return{...t,id:s.payload};case se.initial_amount:return{...t,initial_amount:s.payload};default:return t}}function Ot({cashRegister:t,option:s,open:l,setOpen:o,setMustLoad:r,setHelper:n}){const a={method:s==="Crear"?"POST":"PUT",url:s!=="Actualizar"?"/cash_registers/store":"/cash_registers/update",sucessMessage:s==="Crear"?"Caja agregada":"Caja actualizada",loadingMessage:s!=="Actualizar"?"Agregando caja":"Actualizando caja"},[u,m]=i.useReducer(qt,t),[g,p]=i.useState(!1),y=c=>{c.preventDefault(),p(!0);const x=j(e.jsx(D,{message:a.loadingMessage}),{autoClose:1e4,hideProgressBar:!0});X(a.method,a.url,u).then(d=>{if(d.errors)return j.update(x,{render:e.jsx(e.Fragment,{children:e.jsx(ae,{data:d.errors})}),type:j.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(d.message)return j.update(x,{render:e.jsx(e.Fragment,{children:d.message}),type:j.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});j.update(x,{render:a.sucessMessage,type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),r(!1),n(f=>f+1),o(!1)}).catch(d=>{console.log(d),j.update(x,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})}).finally(()=>p(!1))};return i.useEffect(()=>{for(const c in se){const x=se[c],d=t.hasOwnProperty(c)?t[c]:"";m({type:x,payload:d})}},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Ye,{option:s,open:l,setOpen:o,isLoading:g,handleSubmit:y,icon:Ne,text:"Caja",children:e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full order-1",children:[e.jsx("input",{type:"number",step:"any",min:0,className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:u.initial_amount,onChange:c=>{m({type:se.initial_amount,payload:c.target.value})},required:!0,autoFocus:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Monto inicial"})]})}),e.jsx(Ye.ToastifyModal,{})]})}let oe;const Lt=new Uint8Array(16);function Yt(){if(!oe&&(oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(Lt)}const $=[];for(let t=0;t<256;++t)$.push((t+256).toString(16).slice(1));function Ut(t,s=0){return $[t[s+0]]+$[t[s+1]]+$[t[s+2]]+$[t[s+3]]+"-"+$[t[s+4]]+$[t[s+5]]+"-"+$[t[s+6]]+$[t[s+7]]+"-"+$[t[s+8]]+$[t[s+9]]+"-"+$[t[s+10]]+$[t[s+11]]+$[t[s+12]]+$[t[s+13]]+$[t[s+14]]+$[t[s+15]]}let Ue,ye,je=0,fe=0;function ve(t,s,l){let o=s&&l||0;const r=s||new Array(16);t=t||{};let n=t.node||Ue,a=t.clockseq!==void 0?t.clockseq:ye;if(n==null||a==null){const c=t.random||(t.rng||Yt)();n==null&&(n=Ue=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=ye=(c[6]<<8|c[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),m=t.nsecs!==void 0?t.nsecs:fe+1;const g=u-je+(m-fe)/1e4;if(g<0&&t.clockseq===void 0&&(a=a+1&16383),(g<0||u>je)&&t.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");je=u,fe=m,ye=a,u+=122192928e5;const p=((u&268435455)*1e4+m)%4294967296;r[o++]=p>>>24&255,r[o++]=p>>>16&255,r[o++]=p>>>8&255,r[o++]=p&255;const y=u/4294967296*1e4&268435455;r[o++]=y>>>8&255,r[o++]=y&255,r[o++]=y>>>24&15|16,r[o++]=y>>>16&255,r[o++]=a>>>8|128,r[o++]=a&255;for(let c=0;c<6;++c)r[o+c]=n[c];return s||Ut(r)}function Gt({children:t,option:s,open:l,setOpen:o,handleClick:r,icon:n,text:a,loading:u,width:m}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${l?"scale-100":"scale-0"} fixed inset-0 bg-black opacity-60 z-10 transition-all duration-300 ease-out`}),e.jsx("div",{className:`fixed top-0 left-0 w-full h-full flex items-center justify-center transition-all duration-500 ease-out transform ${l?"":"translate-y-[-200%]"}`,style:{zIndex:"40"},children:e.jsx("div",{className:`w-full ${m||"max-w-2xl"} max-h-full mx-3 overflow-y-auto`,children:e.jsxs("div",{className:"relative rounded-lg shadow bg-white z-40",children:[e.jsxs("div",{className:"flex items-start p-4 border-b rounded-t border-gray-600",children:[e.jsx(Tt,{icon:n,className:"text-gray-700  text-3xl mx-3"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 ",children:a}),e.jsx("button",{type:"button",className:"bg-gray-300 right-0 top-0 absolute p-3 rounded-xl m-2 opacity-80 hover:opacity-45",onClick:()=>o(!1),children:e.jsx(S,{css:"text-green-800",icon:we,size:"22px"})})]}),e.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-6",children:t}),e.jsxs("div",{className:"flex justify-end p-6 space-x-2 border-t rounded-b border-gray-600",children:[e.jsx("button",{type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center disabled:bg-red-600 bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",onClick:r,disabled:u,children:s}),e.jsx("button",{type:"button",className:"focus:ring-4 focus:outline-none rounded-lg border text-sm font-medium px-5 py-2.5 focus:z-10 bg-gray-500 text-white border-gray-500 hover:bg-gray-600 focus:ring-gray-600",onClick:()=>o(!1),children:"Cerrar"})]})]})})})]})}const C={prod:"product",serv:"service",expen:"expense",vous:"vouchers",vou:"voucher"},le={inc:"income",exp:"expense"};function H({cashRegister:t,handleClose:s,setHelper:l,setMustLoad:o}){const[r,n]=i.useState(C.prod),[a,u]=i.useState([]),[m,g]=i.useState([]),[p,y]=i.useState(1),[c,x]=i.useState(6),[d,f]=i.useState(""),[b,v]=i.useState(!0),[h,N]=i.useState(!1),[w,_]=i.useState(0),[I,R]=i.useState(null),[O,A]=i.useState({url:"",label:""}),[M,B]=i.useState(""),[T,L]=i.useState(!1);i.useEffect(()=>{console.log(T)},[T]),i.useEffect(()=>{r===C.prod?(R(null),u(["Transacción","Imagen","Producto","Precio","cantidad","subtotal","Cliente","descripción","fecha","voucher","eliminar"])):r===C.serv?(R(null),u(["Transacción","Servicio","Precio","cantidad","subtotal","Cliente","descripción","fecha","voucher","eliminar"])):r===C.expen?(R(null),u(["Transacción","subtotal","Razón","fecha","eliminar"])):r===C.vous?u(["Código","Cliente","fecha","eliminar"]):r===C.vou&&u(["Producto / Servicio","Precio","cantidad","subtotal","descripción","fecha","eliminar"])},[r]);const Z=()=>{de("¿Quieres cerrar esta caja?",()=>{const Y=j(e.jsx(D,{message:"Cerrando caja"}),{autoClose:3e3,hideProgressBar:!0});X("PUT","/cash_registers/update_state",{id:t.id}).then(V=>{j.update(Y,{render:"La caja ha sido cerrada.",type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),s(),o(!1),l(q=>q+1)}).catch(V=>{console.log(V),j.update(Y,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})},"¡Solo un administrador podrá volver a abrirla!","¡ciérralo!")},ne=Y=>{de("¿Quieres eliminar este movimiento?",()=>{const V=j(e.jsx(D,{message:"Eliminando movimiento"}),{autoClose:3e3,hideProgressBar:!0});X("DELETE","/cash_registers/destroy_movement",{id:Y,cash_register_id:t.id}).then(q=>{if(v(!1),q.errors)return j.update(V,{render:e.jsx(e.Fragment,{children:e.jsx(ae,{data:q.errors})}),type:j.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(q.message)return j.update(V,{render:e.jsx(e.Fragment,{children:q.message}),type:j.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});j.update(V,{render:"El movimiento ha sido eliminado.",type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),_(xe=>xe+1)}).catch(q=>{j.update(V,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})})},U={id:t.id,setData:g,page:p,limit:c,helper:w,searchByFilter:d,mustLoad:b,handleDelete:ne};return e.jsx("section",{className:`${t.id!==null?"translate-y-0":"translate-y-[200%]"} transition-all duration-500 ease-in fixed bg-slate-50 z-30 bottom-0 left-0 px-3 md:px-5 ${h?"overflow-hidden":"overflow-y-auto"} rounded-t-2xl w-screen h-[99vh] mt-2 pb-10`,children:t.id!==null?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-gray-400 right-0 absolute p-3 rounded-xl m-2 opacity-80 hover:opacity-45 z-40 animate-bounce",onClick:s,children:e.jsx(S,{css:"text-green-900",icon:we,size:"22px"})}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(H.Header,{message:`Caja ${t.name}`,messageButton:"Agregar movimiento",disabled:t.state===0,handleClick:()=>N(!0)}),e.jsx("div",{className:"mb-4",children:e.jsx(Qe,{names:[{name:"Productos",value:C.prod},{name:"Servicios",value:C.serv},{name:"Egresos",value:C.expen},{name:"Vouchers",value:C.vous},{name:"Voucher",value:C.vou}],optionSearch:r,setOptionSearch:n,anotherAction:!0,action:Y=>{f(""),v(!0),y(1)}})}),e.jsx(H.Search,{render:r!==C.vou,setSearchByFilter:f,setMustLoad:v,setPage:y,placeholder:C.prod==r?"Buscar por nombre del producto":C.serv==r?"Buscar por nombre del servicio":C.expen==r?"Buscar por razón de egreso":"Buscar por código de voucher / Nombre o número de documento del cliente",hide:!d,data:[{tag:C.vous==r?"código / nombre o documento del cliente":C.vou==r?"código":C.expen==r?"razón":"nombre",input:d,handleClick:()=>f("")}]}),e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:a}),r===C.prod?e.jsx(F.BodyProductTable,{...U,setOptionSearch:n,setSearchByFilter:f,transitionName:M,setTransitionName:B,setImage:A,hide:T}):r===C.serv?e.jsx(F.BodyServiceTable,{...U,setOptionSearch:n,setSearchByFilter:f}):r===C.expen?e.jsx(F.BodyExpenseTable,{...U}):r===C.vous?e.jsx(ts,{cashId:t.id,page:p,limit:c,searchByFilter:d,helper:w,setData:g,mustLoad:b,setOptionSearch:n,setSearchByFilter:f,setCashHelper:R,setHelper:_,setMustLoad:v}):r===C.vou?e.jsx(F.BodyVoucherTable,{id:I||t.id,searchByFilter:d,mustLoad:b,helper:w,handleDelete:ne}):null]}),e.jsx(H.ExcelButton,{id:t.id}),r===C.vou?null:e.jsx(H.Pagination,{pageQuantity:m.current_page*m.per_page,quantity:m.total,setLimit:x,setPage:y,nextPage:m.next_page_url,prevPage:m.prev_page_url,page:m.current_page,lastPage:m.last_page}),t.state!==0&&e.jsxs(e.Fragment,{children:[e.jsx(H.SectionCashRegisterModal,{cashRegisterId:t.id,open:h,setOpen:N,setHelper:_,transitionName:M,setTransitionName:B,setImage:A,setHide:L}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",className:"bg-red-600 w-full lg:w-1/2 px-3 py-4 leading-[1.6] mt-5 rounded-xl hover:rotate-[1deg] transition ease-out text-white text-xl",onClick:Z,children:"Cerrar caja"})})]}),M&&e.jsx(Dt,{image:O,transitionName:M,setTransitionName:B,setHide:L})]}):null})}function Wt({message:t,messageButton:s,disabled:l,handleClick:o}){return e.jsxs("header",{className:"w-full flex flex-wrap justify-center md:justify-between md:px-7 text-gray-700",children:[e.jsxs("p",{className:"font-bold text-4xl text-center",children:[e.jsx(S,{icon:Ne,css:"mr-3",size:"37px"}),t]}),e.jsx("button",{className:`bg-sky-700 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded mr-4 mb-4 mt-4 sm:mt-0 shadow-xl ${l&&"opacity-0"}`,disabled:l,onClick:o,children:s})]})}function Qe({names:t,optionSearch:s,setOptionSearch:l,anotherAction:o=!1,action:r}){return e.jsx("div",{className:"w-full flex flex-wrap gap-1",children:t.map((n,a)=>e.jsx("button",{type:"button",className:`${s===n.value?"bg-sky-400":"bg-sky-900 hover:bg-sky-400"} py-2 rounded-lg flex-grow text-white font-semibold min-w-24`,onClick:()=>{l(n.value),o&&r(n)},children:n.name},a))})}function Qt({render:t,setSearchByFilter:s,setMustLoad:l,setPage:o,placeholder:r,hide:n,data:a}){const[u,m]=i.useState(""),{debounceValue:g}=te(u,500);return i.useEffect(()=>{l(!0),s(g),o(1)},[g]),e.jsxs(e.Fragment,{children:[t&&e.jsxs("div",{className:"relative min-w-[calc(80%)] bg-white rounded-full shadow-lg border",children:[e.jsx("input",{type:"text",placeholder:r,className:"w-full bg-transparent focus:outline-none ml-2 py-2 ps-3 pe-12 md:pe-16 font-semibold",value:u,onChange:p=>{m(p.target.value)}}),e.jsx(S,{css:"absolute inset-y-2.5 right-4 text-green-600",icon:Bt,size:"20px"})]}),e.jsxs("section",{className:`${n&&"hidden"} px-2 py-1 overflow-hidden flex flex-wrap cursor-pointer`,children:[e.jsx("span",{className:"font-medium me-4 text-black",children:"Filtro: "}),a.map((p,y)=>p.input?e.jsxs("div",{className:"bg-sky-400 rounded-lg py-1 px-2 me-2 hover:bg-vetgreen-100 cursor-pointer text-sm",onClick:()=>{p.handleClick(),m("")},children:[e.jsx(S,{css:"px-1 me-1",icon:we,size:"13px"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[p.tag,": "]}),p.input]})]},y):null)]})]})}function Xt({id:t}){const[s,l]=i.useState(2);return i.useEffect(()=>{const r=document.getElementById("cash_register").getAttribute("role");l(r)},[]),e.jsx(e.Fragment,{children:s==1?e.jsx("a",{href:`/cash_registers/get_excel_by_cash_register?id=${t}`,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded inline-flex items-center mt-5 w-full sm:w-auto",children:e.jsxs("span",{className:"mx-auto",children:[e.jsx(S,{icon:We,css:"mr-2",size:"25px"}),"Descargar Excel"]})}):null})}function F({children:t,css:s}){return e.jsx("main",{className:"mx-auto mt-2",children:e.jsx("div",{className:"flex flex-col overflow-hidden",children:e.jsx("div",{className:"py-2 -my-2 sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8",children:e.jsx("div",{className:`overflow-x-auto h-auto ${s||"rounded-lg"} border border-gray-400`,children:e.jsx("table",{className:`min-w-full rounded-lg ${s||"rounded-lg"}`,children:t})})})})})}function Jt({names:t,css:s}){return e.jsx("thead",{className:`sticky top-0 ${s||""}`,children:e.jsx("tr",{children:t.map((l,o)=>e.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium leading-4 tracking-wider text-gray-500 uppercase border-b border-gray-200 bg-gray-50",children:l},o))})})}function Kt({id:t,setData:s,page:l,limit:o,helper:r,searchByFilter:n,mustLoad:a,handleDelete:u,setOptionSearch:m,setSearchByFilter:g,transitionName:p,setTransitionName:y,setImage:c,hide:x}){const d=`/cash_registers/get_products/${t}?page=${l}&limit=${o}&filter=name&inputFilter=${n}`,{data:f,loading:b}=z(d,[l,o,r,n]);return i.useEffect(()=>{b||s(f)},[f,b]),e.jsx(Xe,{loading:b,mustLoad:a,message:"Cargando ingresos de productos",data:f,handleDelete:u,setOptionSearch:m,setSearchByFilter:g,transitionName:p,setTransitionName:y,setImage:c,hide:x})}function Zt({id:t,setData:s,page:l,limit:o,helper:r,searchByFilter:n,mustLoad:a,handleDelete:u,setOptionSearch:m,setSearchByFilter:g}){const p=`/cash_registers/get_services/${t}?page=${l}&limit=${o}&filter=name&inputFilter=${n}`,{data:y,loading:c}=z(p,[l,o,r,n]);return i.useEffect(()=>{c||s(y)},[y,c]),e.jsx(Xe,{loading:c,mustLoad:a,message:"Cargando ingresos de servicios",data:y,handleDelete:u,setOptionSearch:m,setSearchByFilter:g})}function Xe({loading:t,mustLoad:s,message:l,data:o,handleDelete:r,setOptionSearch:n,setSearchByFilter:a,transitionName:u,setTransitionName:m,setImage:g,hide:p}){var y,c;return e.jsx("tbody",{className:"bg-white text-center",children:t&s?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(re,{message:l})})}):((y=o.data)==null?void 0:y.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ce,css:"mr-3"}),"No hay datos disponibles."]})})})}):(c=o.data)==null?void 0:c.map((x,d)=>{var f,b,v,h,N,w,_,I,R,O,A,M;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"mx-auto text-center",children:[e.jsx(S,{icon:Oe,css:"text-green-600",size:"22px"}),e.jsx(S,{icon:Oe,css:"text-green-600",size:"22px"}),e.jsx("div",{className:"text-sm leading-5 text-gray-500 font-semibold",children:"Ingreso"})]})})}),x.product_image_url&&e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 h-24",children:e.jsx("div",{className:"text-gray-900 w-20 mx-auto",children:e.jsx("img",{src:x.product_image_url,alt:x.name,className:`rounded-sm h-16 mx-auto cursor-pointer ${p>0?"opacity-0":""}`,onClick:()=>{document.startViewTransition(()=>{Ge.flushSync(()=>{m(`${x.name}-${x.id}`),g({url:x.product_image_url,label:x.name})})})},style:{viewTransitionName:!u&&`${x.name}-${x.id}`}})})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 max-w-40 overflow-hidden mx-auto",children:x.name})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",x.price]})}),e.jsx("td",{className:"px-2 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:(f=x.pivot)==null?void 0:f.quantity})}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-20",children:["S/ ",(b=x.pivot)==null?void 0:b.subtotal]})}),e.jsxs("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:[e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:(v=x.customer)==null?void 0:v.name}),e.jsxs("div",{className:"text-sm leading-5 text-gray-700 w-40 overflow-hidden mx-auto",children:[((N=(h=x.customer)==null?void 0:h.identity_document)==null?void 0:N.abbreviation)&&`${(_=(w=x.customer)==null?void 0:w.identity_document)==null?void 0:_.abbreviation}:`," ",(I=x.customer)==null?void 0:I.document_number]})]}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative max-w-[200px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 max-w-48 overflow-hidden mx-auto",children:((R=x.pivot)==null?void 0:R.description)||"--"})}),e.jsx("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700",children:K((O=x.pivot)==null?void 0:O.created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce((A=x.pivot)==null?void 0:A.created_at)})]})}),e.jsx("td",{className:"py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("button",{className:"bg-red-500 hover:bg-red-700 text-sm leading-5 w-full text-white flex flex-col items-center p-1 rounded",onClick:()=>{var B;n(C.vou),a((B=x.pivot)==null?void 0:B.voucher_id)},children:[e.jsx(S,{icon:Se,css:"mx-auto",size:"24px"}),e.jsx("p",{css:"text-center",children:(M=x.pivot)==null?void 0:M.voucher_id})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var B;return r((B=x.pivot)==null?void 0:B.id)},children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},d)})})}function es({id:t,setData:s,page:l,limit:o,helper:r,searchByFilter:n,mustLoad:a,handleDelete:u}){var y,c;const m=`/cash_registers/get_expenses/${t}?page=${l}&limit=${o}&filter=name&inputFilter=${n}`,{data:g,loading:p}=z(m,[l,o,r,n]);return i.useEffect(()=>{p||s(g)},[g,p]),e.jsx("tbody",{className:"bg-white",children:p&a?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(re,{message:"Cargando egresos"})})}):((y=g.data)==null?void 0:y.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ce,css:"mr-3"}),"No hay datos disponibles."]})})})}):(c=g.data)==null?void 0:c.map((x,d)=>{var f,b,v;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"mx-auto text-center",children:[e.jsx(S,{icon:Le,css:"text-red-600",size:"22px"}),e.jsx(S,{icon:Le,css:"text-red-600",size:"22px"}),e.jsx("div",{className:"text-sm leading-5 text-gray-500 font-semibold",children:"Egreso"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center w-40",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",(f=x.pivot)==null?void 0:f.subtotal]})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative min-w-[400px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:x.reason})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700",children:K((b=x.pivot)==null?void 0:b.created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce((v=x.pivot)==null?void 0:v.created_at)})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var h;return u((h=x.pivot)==null?void 0:h.id)},children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},d)})})}function ts({cashId:t,page:s,limit:l,searchByFilter:o,helper:r,setData:n,mustLoad:a,setOptionSearch:u,setSearchByFilter:m,setCashHelper:g,setHelper:p,setMustLoad:y}){var b,v;const c=`/cash_registers/get_all_vouchers?page=${s}&limit=${l}&inputFilter=${o}`,{data:x,loading:d}=z(c,[s,l,r,o]);i.useEffect(()=>{d||n(x)},[x,d]);const f=(h,N)=>{de(`¿Seguro(a) que quieres eliminar el voucher ${h}?`,()=>{const w=j(e.jsx(D,{message:"Eliminando voucher"}),{autoClose:3e3,hideProgressBar:!0});X("DELETE","/cash_registers/destroy_voucher",{voucher_id:h,cash_register_id:N}).then(_=>{if(y(!1),_.errors)return j.update(w,{render:e.jsx(e.Fragment,{children:e.jsx(ae,{data:_.errors})}),type:j.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});if(_.message)return j.update(w,{render:e.jsx(e.Fragment,{children:_.message}),type:j.TYPE.INFO,autoClose:3e3,hideProgressBar:!1});j.update(w,{render:`El voucher ${h} ha sido eliminado.`,type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),p(I=>I+1)}).catch(_=>{j.update(w,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})})})};return e.jsx("tbody",{className:"bg-white",children:d&a?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx(re,{message:"Cargando vouchers"})})}):((b=x.data)==null?void 0:b.length)===0?e.jsx("tr",{className:"text-white",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ce,css:"mr-3"}),"No hay datos disponibles."]})})})}):(v=x.data)==null?void 0:v.map((h,N)=>e.jsxs("tr",{className:`${t===h.cash_id&&"bg-gray-300"} hover:bg-sky-200`,children:[e.jsx("td",{className:"py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative w-96",children:e.jsxs("button",{className:"bg-red-500 hover:bg-red-700 text-sm leading-5 w-40 md:w-3/4 mx-auto text-white flex flex-col items-center p-1 rounded",onClick:()=>{g(h.cash_id),u(C.vou),m(h.voucher_id)},children:[e.jsx(S,{icon:Se,css:"mx-auto",size:"24px"}),e.jsx("p",{css:"text-center",children:h.voucher_id})]})}),e.jsxs("td",{className:"px-2 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:[e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:h.customer}),e.jsxs("div",{className:"text-sm leading-5 text-gray-700 w-40 overflow-hidden mx-auto",children:[h.abbreviation&&`${h.abbreviation}:`," ",h.doc_customer]})]}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"min-w-28 text-center",children:[e.jsx("p",{className:"text-gray-700 md:hidden",children:K(h.max_created_at)}),e.jsx("p",{className:"text-gray-700 text-base hidden md:block",children:At(h.max_created_at)}),e.jsx("p",{className:"text-gray-900 font-semibold",children:Ce(h.max_created_at)})]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative w-36",children:e.jsx("div",{className:"text-center",onClick:()=>f(h.voucher_id,h.cash_id),children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},N))})}function ss({id:t,searchByFilter:s,mustLoad:l,helper:o,handleDelete:r}){var y,c,x,d,f;const n=`/cash_registers/get_voucher/${t}?inputFilter=${s}`,{data:a,loading:u}=z(n,[s,o]),[m,g]=i.useState("");i.useEffect(()=>{var b,v;g((v=(b=a.voucher)==null?void 0:b.reduce((h,N)=>{var w;return h+parseFloat((w=N.pivot)==null?void 0:w.subtotal)},0))==null?void 0:v.toFixed(2))},[a]);const p=()=>{const b=`/cash_registers/get_voucher_pdf/${t}?uuid=${s}`;window.open(b,"_blank")};return e.jsx("tbody",{className:"bg-white",children:u&l?e.jsx("tr",{className:"text-white bg-gray-500",children:e.jsx("td",{colSpan:100,children:e.jsx("div",{children:e.jsx(re,{message:"Cargando voucher"})})})}):e.jsxs(e.Fragment,{children:[(y=a.voucher)==null?void 0:y.map((b,v)=>{var h,N,w,_;return e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:b.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-16",children:["S/ ",b.price]})}),e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-center ",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:(h=b.pivot)==null?void 0:h.quantity})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative text-center",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900 min-w-20",children:["S/ ",(N=b.pivot)==null?void 0:N.subtotal]})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 min-w-24",children:(w=b.pivot)==null?void 0:w.description})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"min-w-28 text-center",children:e.jsx("p",{className:"text-gray-700",children:K((_=b.pivot)==null?void 0:_.created_at)})})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{className:"text-center",onClick:()=>{var I;return r((I=b.pivot)==null?void 0:I.id)},children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-150 transition ease-out cursor-pointer",size:"25px"})})})]},v)}),e.jsx("tr",{className:"hover:bg-sky-200",children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",colSpan:100,children:e.jsxs("div",{className:"text-lg font-bold leading-5 text-gray-900 text-center",children:["Cliente: ",(c=a.customer)==null?void 0:c.name," - ",((d=(x=a.customer)==null?void 0:x.identity_document)==null?void 0:d.abbreviation)||"-",": ",((f=a.customer)==null?void 0:f.document_number)||"--"]})})}),e.jsx("tr",{className:"hover:bg-sky-200",children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200",colSpan:100,children:e.jsxs("div",{className:"text-lg font-bold leading-5 text-gray-600 text-center",children:["Total: S/ ",m]})})}),m>0&&e.jsx("tr",{className:"hover:bg-red-300",onClick:p,children:e.jsx("td",{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 cursor-pointer",colSpan:100,children:e.jsxs("div",{className:"text-center text-red-800 font-bold text-xl animate-bounce",children:["Presiona aquí para verlo en ",e.jsx(S,{icon:Se,css:"text-red-800 hover:scale-125 transition ease-out cursor-pointer",size:"35px"})]})})})]})})}function as({pageQuantity:t,quantity:s,setLimit:l,setPage:o,nextPage:r,prevPage:n,page:a,lastPage:u}){return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"flex justify-between items-center mt-4 px-1 sm:px-5",children:[e.jsxs("div",{className:"hidden xl:block text-black rounded-lg",children:["Mostrando ",t>s?s:t," de ",s," resultados"]}),e.jsx("button",{className:"xl:hidden bg-white border px-4 py-2 text-gray-600 hover:text-indigo-500 hover:bg-gray-200 cursor-pointer rounded-lg",disabled:!n,onClick:()=>{n&&o(parseInt(ie(n)))},children:"Anterior"}),e.jsxs("div",{className:"hidden xl:block text-vetbrown rounded-full bg-white border border-vetbrown p-2 mb-1",children:[e.jsx("span",{className:"",children:" Por página: "}),e.jsxs("select",{className:"px-2 py-1 bg-transparent rounded-lg cursor-pointer",defaultValue:"6",onChange:m=>{l(m.target.value),o(1)},children:[e.jsx("option",{value:"6",className:"bg-white",children:"6"}),e.jsx("option",{value:"12",className:"bg-white",children:"12"}),e.jsx("option",{value:"20",className:"bg-white",children:"20"})]})]}),e.jsx("div",{className:"xl:hidden text-gray-600 rounded-xl bg-white border border-gray-200 p-2",children:e.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded-lg cursor-pointer",defaultValue:"6",onChange:m=>{l(m.target.value),o(1)},children:[e.jsx("option",{value:"6",className:" bg-white",children:"6"}),e.jsx("option",{value:"12",className:" bg-white",children:"12"}),e.jsx("option",{value:"20",className:" bg-white",children:"20"})]})}),e.jsxs("nav",{className:"hidden xl:flex rounded-lg divide-vetbrown ease-out duration-300",children:[e.jsx("button",{className:`px-4 py-2 text-vetbrown bg-white border border-vetbrown rounded-l-full ${n&&"hover:text-indigo-500 hover:scale-[105%]"}`,disabled:!n,onClick:()=>{n&&o(parseInt(ie(n)))},children:"Anterior"}),a!==1&&e.jsx("button",{className:"px-4 py-2 text-indigo-800 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{o(1)},children:1}),1-a<-2&&a!=1&&e.jsx("span",{className:"px-4 py-2 bg-white text-gray-500",children:"..."}),1-a<-1&&a!=1&&e.jsx("button",{className:"px-4 py-2 text-gray-600 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{o(m=>m-1)},children:parseInt(a)-1}),e.jsx("button",{className:"px-4 py-2 text-indigo-500 bg-vetwhite border border-vetbrown font-medium",children:a}),u-a>0&&e.jsx("button",{className:"px-4 py-2 text-gray-600 bg-white hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{o(m=>m+1)},children:parseInt(a)+1}),u-a>2&&e.jsx("span",{className:"px-4 py-2 bg-white  text-gray-600",children:"..."}),u-a>2&&e.jsx("button",{className:"px-4 py-2 bg-white text-gray-600 hover:text-indigo-500 hover:scale-[105%]",onClick:()=>{o(parseInt(u))},children:u}),e.jsx("button",{className:`px-4 py-2 text-vetbrown rounded-r-full bg-white border border-vetbrown ${r&&"hover:text-indigo-500 hover:scale-[105%]"}`,disabled:!r,onClick:()=>{r&&o(parseInt(ie(r)))},children:"Siguiente"})]}),e.jsx("button",{className:"xl:hidden bg-white border px-4 py-2 text-gray-600 hover:text-indigo-500 hover:bg-gray-200 cursor-pointer rounded-lg",disabled:!r,onClick:()=>{r&&o(parseInt(ie(r)))},children:"Siguiente"})]}),e.jsxs("div",{className:"block xl:hidden text-black rounded-lg text-center mt-5",children:["Mostrando ",t>s?s:t," de ",s," resultados"]})]})}function P({cashRegisterId:t,open:s,setOpen:l,setHelper:o,transitionName:r,setTransitionName:n,setImage:a,setHide:u}){const m={id:ve(),img:"",product_id:"",name:"",price:0,quantity:1,description:""},g={id:ve(),service_id:"",name:"",price:0,quantity:1,description:""},p={id:ve(),expense_id:"",reason:"",subtotal:0},[y,c]=i.useState(!1),[x,d]=i.useState(le.inc),[f,b]=i.useState(1),[v,h]=i.useState(0),[N,w]=i.useState(""),[_,I]=i.useState(""),[R,O]=i.useState(1),[A,M]=i.useState(""),[B,T]=i.useState("name"),[L,Z]=i.useState(""),[ne,U]=i.useState(1),[Y,V]=i.useState(!1),[q,xe]=i.useState(!1),{debounceValue:_e}=te(L,400),{data:et,loading:Ee}=z(`/customers/list?filter=${B}&inputFilter=${_e}`,[ne],q),[tt,st]=i.useState(m),[G,me]=i.useState([]),[ke,Te]=i.useState(""),[at,$e]=i.useState(1),[rt,nt]=i.useState(!1),[it,ot]=i.useState(!1),{debounceValue:Fe}=te(ke,400),{data:lt,loading:Be}=z(`/products/list?filter=name&inputFilter=${Fe}`,[at],it),[dt,ct]=i.useState(g),[W,pe]=i.useState([]),[Pe,Me]=i.useState(""),[ut,Ie]=i.useState(1),[xt,mt]=i.useState(!1),[pt,ht]=i.useState(!1),{debounceValue:Re}=te(Pe,400),{data:gt,loading:Ae}=z(`/services/list?filter=name&inputFilter=${Re}`,[ut],pt),[bt,yt]=i.useState(p),[he,ge]=i.useState([]),[He,ze]=i.useState(""),[jt,De]=i.useState(1),[ft,vt]=i.useState(!1),[Nt,wt]=i.useState(!1),{debounceValue:Ve}=te(He,400),{data:St,loading:qe}=z(`/expenses/list?filter=reason&inputFilter=${Ve}`,[jt],Nt);i.useEffect(()=>{!Be&&rt&&$e(E=>E+1)},[Fe]),i.useEffect(()=>{!Ae&&xt&&Ie(E=>E+1)},[Re]),i.useEffect(()=>{!qe&&ft&&De(E=>E+1)},[Ve]),i.useEffect(()=>{!Ee&&Y&&U(E=>E+1)},[_e]),i.useEffect(()=>{var E;h(Array.isArray(G)&&Array.isArray(W)?(E=[...G,...W].reduce((ee,k)=>ee+parseFloat(k.price)*parseFloat(k.quantity),0))==null?void 0:E.toFixed(2):0)},[G,W]),i.useEffect(()=>{Rt("/cash_registers/get_voucher_id").then(E=>I(E))},[R]);const Ct=()=>{c(!0);const E={cash_register_id:t,type_of_movement:f};A&&(E.customer_id=A),G.length>0&&(E.products=G.map(k=>({product_id:k.product_id,quantity:k.quantity,description:k.description}))),W.length>0&&(E.services=W.map(k=>({service_id:k.service_id,quantity:k.quantity,description:k.description}))),he.length>0&&(E.expenses=he.map(k=>({expense_id:k.expense_id,subtotal:k.subtotal})));const ee=j(e.jsx(D,{message:"Agregando movimiento"}),{autoClose:3e3,hideProgressBar:!0});X("POST","/cash_registers/store_movements",E).then(k=>{if(k.errors)return j.update(ee,{render:e.jsx(e.Fragment,{children:e.jsx(ae,{data:k.errors})}),type:j.TYPE.ERROR,autoClose:3e3,hideProgressBar:!1});j.update(ee,{render:"Movimiento guardado.",type:j.TYPE.SUCCESS,autoClose:1500,hideProgressBar:!1}),M(""),Z(""),me([]),pe([]),ge([]),o(be=>be+1),l(!1),O(be=>be+1)}).catch(k=>{console.log(k),j.update(ee,{render:"Hay problemas de conexión",type:j.TYPE.WARNING,autoClose:2500,hideProgressBar:!1})}).finally(()=>c(!1))};return e.jsxs(Gt,{option:"Vender",open:s,setOpen:l,handleClick:Ct,icon:$t,text:"Nuevo movimiento",loading:y,width:"max-w-5xl",children:[e.jsx("div",{className:"col-span-full",children:e.jsx(Qe,{names:[{name:"Ingresos",value:le.inc,movement:1},{name:"Egresos",value:le.exp,movement:2}],optionSearch:x,setOptionSearch:d,anotherAction:!0,action:E=>b(E.movement)})}),x===le.inc?e.jsxs(e.Fragment,{children:[e.jsxs(P.ButtonContainer,{css:"border-2 border-gray-200 bg-gray-300",children:[e.jsx("span",{className:"text-base absolute -translate-y-2 -translate-x-12",children:"Comprobante"}),e.jsx("p",{className:"text-2xl font-bold text-gray-500 mt-2",children:_||"V-00000001"})]}),e.jsx(P.ButtonContainer,{css:"bg-blue-500 hover:bg-blue-700 order-5 mt-10",children:e.jsx("button",{className:"w-full text-white",onClick:()=>{M(""),Z(""),me([]),pe([]),Te(""),Me("")},children:e.jsx("code",{children:"LIMPIAR FORMULARIO"})})}),e.jsxs(P.ButtonContainer,{css:"border-2 order-4 bg-sky-800 text-white",children:["Total: S/. ",v]}),v>0&&e.jsxs(P.ButtonContainer,{css:"order-4",children:[e.jsx("h1",{className:"underline  underline-offset-2",children:"Calculadora de vuelto"}),e.jsxs("section",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"number",step:"any",min:0,max:99999,value:N,placeholder:"Cantidad de dinero ...",className:"border-2 w-full sm:w-1/2  p-1 rounded-lg bg-transparent text-center",onChange:E=>w(E.target.value)}),e.jsx("div",{className:"border-2 w-full sm:w-1/2 rounded-lg min-h-10 flex items-center justify-center",children:e.jsx("p",{children:N-v>0?`Su vuelto es de S/. ${(N-v).toFixed(2)}`:`Faltan S/. ${-(N-v).toFixed(2)}`})})]})]}),e.jsx(P.CustomerModal,{setMustSearchCustomer:V,filterCustomer:B,setFilterCustomer:T,inputCustomer:L,setInputCustomer:Z,loadingCustomer:Ee,dataCustomer:et,setCustomerId:M,setHelperSearchCustomer:xe,setHelperCustomer:U}),e.jsx("hr",{className:"col-span-full"}),e.jsx(P.ProductModal,{setMustSearchProduct:nt,inputProduct:ke,setInputProduct:Te,loadingProduct:Be,dataProduct:lt,selectProduct:tt,setSelectProduct:st,setProducts:me,initialStateProduct:m,products:G,setHelperSearchProduct:ot,setHelperProduct:$e,transitionName:r,setTransitionName:n,setImage:a,setHide:u}),e.jsx("hr",{className:"col-span-full sm:hidden"}),e.jsx(P.ServiceModal,{setMustSearchService:mt,inputService:Pe,setInputService:Me,loadingService:Ae,dataService:gt,selectService:dt,setSelectService:ct,setServices:pe,initialStateService:g,services:W,setHelperSearchService:ht,setHelperService:Ie}),e.jsx("hr",{className:"col-span-full"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P.ButtonContainer,{css:"bg-blue-500 hover:bg-blue-700 order-2 mt-10",children:e.jsx("button",{className:"w-full text-white",onClick:()=>{ge([]),ze("")},children:e.jsx("code",{children:"LIMPIAR FORMULARIO"})})}),e.jsx(P.ExpenseModal,{setMustSearchExpense:vt,inputExpense:He,setInputExpense:ze,loadingExpense:qe,dataExpense:St,selectExpense:bt,setSelectExpense:yt,setExpenses:ge,initialStateExpense:p,expenses:he,setHelperSearchExpense:wt,setHelperExpense:De})]})]})}function rs({children:t,css:s=""}){return e.jsx("div",{className:`relative w-full col-span-full rounded px-3 py-[0.32rem] leading-[1.6] text-gray-600  text-center font-semibold text-lg ${s}`,children:t})}function ns({setMustSearchCustomer:t,filterCustomer:s,setFilterCustomer:l,inputCustomer:o,setInputCustomer:r,loadingCustomer:n,dataCustomer:a,setCustomerId:u,setHelperSearchCustomer:m,setHelperCustomer:g}){var c,x;const[p,y]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative w-full col-span-full grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(ue,{setMustSearch:t,filters:[{tag:"Nombre",value:"name"},{tag:"Número de documento",value:"document_number"}],filter:s,setFilter:l,input:o,setInput:r,label:"Cliente",setHelperSearch:m,setHelper:g,css:"w-full col-span-full order-1 pe-10",listStyle:"w-full max-h-72",anotherAction:!0,actions:()=>{u("")},children:n?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(D,{message:"Buscando los clientes ..."})}):((c=a.data)==null?void 0:c.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay clientes con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(x=a.data)==null?void 0:x.map((d,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{var b;t(!1),r(`${d.name} - ${((b=d.identity_document)==null?void 0:b.abbreviation)||"--"}: ${d.document_number||"--"}`),u(d.id)},children:`${d.name} - ${d.identity_document?`${d.identity_document.abbreviation}: ${d.document_number}`:"--"}`},f))})}),e.jsx("button",{type:"button",className:"order-1 absolute bottom-1 right-12 bg-gray-100 rounded-full px-2 py-1 z-10 hover:bg-gray-300",onClick:()=>y(!0),children:e.jsx(S,{icon:Ft})})]}),e.jsx("div",{className:"absolute",children:e.jsx(Ht,{customer:{...zt},option:"Crear",open:p,setOpen:y,actions:!1,mustBeToast:!1,focus:!1})})]})}function is({setMustSearchProduct:t,inputProduct:s,setInputProduct:l,loadingProduct:o,dataProduct:r,selectProduct:n,setSelectProduct:a,setProducts:u,initialStateProduct:m,products:g,setHelperSearchProduct:p,setHelperProduct:y,transitionName:c,setTransitionName:x,setImage:d,setHide:f}){var b,v;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full col-span-1 grid grid-cols-1 gap-6 sm:gap-x-6",children:[e.jsx(ue,{setMustSearch:t,input:s,setInput:l,label:"Producto",setHelperSearch:p,setHelper:y,css:"w-full max-h-10",listStyle:"w-full sm:w-[200%] max-h-72",children:o?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(D,{message:"Buscando los productos ..."})}):((b=r.data)==null?void 0:b.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay productos con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(v=r.data)==null?void 0:v.map((h,N)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 p-2 border-b rounded-lg",onClick:()=>{t(!1),l(h.name),a(w=>({...w,img:h.product_image_url,product_id:h.id,name:h.name,price:h.price}))},children:e.jsxs("article",{className:"flex flex-col sm:flex-row justify-center sm:justify-start items-center",children:[e.jsx("img",{src:h.product_image_url||"/image/juguete.webp",alt:h.name,width:"150px",className:"rounded-lg object-contain mb-6 sm:mb-0 sm:me-10"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Nombre:"})," ",`${h.name}`]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Precio:"})," ",`S/. ${h.price}`]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Stock:"})," ",`${h.stock}`," u."]})]})]})},N))})}),n.name&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{select:n,handleClick:h=>{a(N=>({...N,quantity:parseFloat(h.target.value)||""}))}}),e.jsx(Ke,{select:n,handleChange:h=>{a(N=>({...N,description:h.target.value}))},handleClick:()=>{u(h=>{if(!n.product_id)return[...h];const N=g.findIndex(w=>w.product_id===n.product_id);if(N!==-1){const w=[...g];return w[N].quantity+=parseFloat(n.quantity),w}return[...h,n]}),l(""),a(m)},message:"producto"})]})]}),g.length>0&&e.jsx("div",{className:"col-span-full order-2",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["Imagen","Producto","precio","cantidad","subtotal","descripción","Eliminar"]}),e.jsx(Ze,{data:g,setData:u,transitionName:c,setTransitionName:x,setImage:d,setHide:f})]})})]})}function os({setMustSearchService:t,inputService:s,setInputService:l,loadingService:o,dataService:r,selectService:n,setSelectService:a,setServices:u,initialStateService:m,services:g,setHelperSearchService:p,setHelperService:y}){var c,x;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full col-span-1 grid grid-cols-1 gap-6 sm:gap-x-6",children:[e.jsx(ue,{setMustSearch:t,input:s,setInput:l,label:"Servicio",setHelperSearch:p,setHelper:y,css:"w-full max-h-10",listStyle:"w-full max-h-72",children:o?e.jsx("div",{className:"w-full mx-auto p-4",children:e.jsx(D,{message:"Buscando los servicios ..."})}):((c=r.data)==null?void 0:c.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay servicios con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(x=r.data)==null?void 0:x.map((d,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{t(!1),l(d.name),a(b=>({...b,service_id:d.id,name:d.name,price:d.price}))},children:`${d.name} ->  S/. ${d.price}`},f))})}),n.name&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{select:n,handleClick:d=>{a(f=>({...f,quantity:parseFloat(d.target.value)||""}))}}),e.jsx(Ke,{select:n,handleChange:d=>{a(f=>({...f,description:d.target.value}))},handleClick:()=>{u(d=>{if(!n.service_id)return[...d];const f=g.findIndex(b=>b.service_id===n.service_id);if(f!==-1){const b=[...g];return b[f].quantity+=parseFloat(n.quantity),b}return[...d,n]}),l(""),a(m)},message:"servicio"})]})]}),g.length>0&&e.jsx("div",{className:"col-span-full order-3",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["Servicio","precio","cantidad","subtotal","descripción","Eliminar"]}),e.jsx(Ze,{data:g,setData:u})]})})]})}function Je({select:t,handleClick:s}){return e.jsxs("div",{className:"relative border border-gray-600 rounded w-full",children:[e.jsx("input",{type:"number",step:"any",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:t.quantity,onChange:s,min:0,required:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Cantidad"})]})}function Ke({select:t,handleChange:s,handleClick:l,message:o}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full",children:[e.jsx("textarea",{className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:t.description,onChange:s}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Descripción (opcional)"})]}),e.jsxs("button",{type:"button",className:"w-full col-span-full bg-blue-500 text-white font-semibold rounded-lg py-2 hover:bg-blue-700",onClick:l,children:["Agregar ",o]})]})}function Ze({data:t,setData:s,transitionName:l,setTransitionName:o,setImage:r,setHide:n}){return e.jsx("tbody",{className:"bg-white text-center",children:t.map((a,u)=>e.jsxs("tr",{className:"hover:bg-sky-200",children:[a.img&&e.jsx("td",{className:"whitespace-no-wrap border-b border-gray-200 h-20",children:e.jsx("div",{className:"text-gray-900 w-20",children:e.jsx("img",{src:a.img,alt:a.name,className:"rounded-sm h-16 mx-auto cursor-pointer",onClick:()=>{n(!0),document.startViewTransition(()=>{Ge.flushSync(()=>{o(`${a.name}-${a.id}`),r({url:a.img,label:a.name})})})},style:{viewTransitionName:!l&&`${a.name}-${a.id}`}})})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-40 overflow-hidden mx-auto",children:a.name})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",a.price]})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:a.quantity})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",(parseFloat(a.price)*parseFloat(a.quantity)).toFixed(2)]})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative max-w-[200px]",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900 w-48 overflow-hidden mx-auto",children:a.description})}),e.jsx("td",{className:"py-2 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{onClick:()=>{const m=t.filter(g=>g.id!==a.id);s(m)},children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-125 transition ease-out  cursor-pointer",size:"25px"})})})]},u))})}function ls({setMustSearchExpense:t,inputExpense:s,setInputExpense:l,loadingExpense:o,dataExpense:r,selectExpense:n,setSelectExpense:a,setExpenses:u,initialStateExpense:m,expenses:g,setHelperSearchExpense:p,setHelperExpense:y}){var c,x;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative w-full col-span-full",children:e.jsx(ue,{setMustSearch:t,input:s,setInput:l,label:"Egresos",setHelperSearch:p,setHelper:y,children:o?e.jsx("div",{className:"w-full sm:w-1/2 mx-auto py-4",children:e.jsx(D,{message:"Buscando las razones de egreso ..."})}):((c=r.data)==null?void 0:c.length)===0?e.jsx("h3",{className:"cursor-pointer py-4 text-center",children:"No hay servicios con este dato ..."}):e.jsx("ul",{className:"px-5 py-2",children:(x=r.data)==null?void 0:x.map((d,f)=>e.jsx("li",{className:"cursor-pointer hover:bg-slate-600 rounded p-2",onClick:()=>{t(!1),l(d.reason),a(b=>({...b,expense_id:d.id,reason:d.reason}))},children:`${d.reason}`},f))})})}),s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative border border-gray-600 rounded w-full col-span-full",children:[e.jsx("input",{type:"number",className:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none text-gray-600  placeholder:text-gray-600  [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",value:n.subtotal,onChange:d=>{a(f=>({...f,subtotal:d.target.value}))},required:!0}),e.jsx("label",{className:"pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] transition-all duration-200 ease-out peer-focus:-translate-y-[1.8rem] peer-focus:scale-[0.9] peer-data-[te-input-state-active]:-translate-y-[2rem] peer-data-[te-input-state-active]:scale-[0.9] motion-reduce:transition-none text-gray-600  peer-focus:text-primary peer-valid:-translate-y-[1.8rem] peer-valid:scale-[0.9] peer-valid:text-primary",children:"Dinero"})]}),e.jsx("button",{type:"button",className:"w-full col-span-full bg-blue-500 text-white font-semibold rounded-lg py-2 hover:bg-blue-700",onClick:()=>{n&&(u(d=>n.expense_id?[...d,n]:[...d]),l(""),a(m))},children:"Agregar razón"})]}),g.length>0&&e.jsx("div",{className:"col-span-full",children:e.jsxs(F,{children:[e.jsx(F.HeaderTable,{names:["subtotal","razón","eliminar"]}),e.jsx("tbody",{className:"bg-white text-center",children:g.map((d,f)=>e.jsxs("tr",{className:"hover:bg-sky-200",children:[e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200",children:e.jsxs("div",{className:"text-sm leading-5 text-gray-900",children:["S/ ",d.subtotal]})}),e.jsx("td",{className:"py-2 whitespace-no-wrap border-b border-gray-200 min-w-72",children:e.jsx("div",{className:"text-sm leading-5 text-gray-900",children:d.reason})}),e.jsx("td",{className:"px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 relative",children:e.jsx("div",{onClick:()=>{const b=g.filter(v=>v.id!==d.id);u(b)},children:e.jsx(S,{icon:J,css:"text-red-800 hover:scale-125 transition ease-out cursor-pointer",size:"25px"})})})]},f))})]})})]})}H.Header=Wt;H.Search=Qt;H.ExcelButton=Xt;H.Pagination=as;H.SectionCashRegisterModal=P;P.ButtonContainer=rs;P.CustomerModal=ns;P.ProductModal=is;P.ServiceModal=os;P.ExpenseModal=ls;F.HeaderTable=Jt;F.BodyProductTable=Kt;F.BodyServiceTable=Zt;F.BodyExpenseTable=es;F.BodyVoucherTable=ss;function ds(){var M,B;const t={id:"",initial_amount:0},[s,l]=i.useState(1),[o,r]=i.useState(12),[n,a]=i.useState(""),[u,m]=i.useState(""),[g,p]=i.useState(0),y=`/cash_registers/list?page=${s}&limit=${o}&startDate=${n}&finishDate=${u}`,{data:c,loading:x}=z(y,[s,o,g]),[d,f]=i.useState("Abrir"),[b,v]=i.useState(!1),[h,N]=i.useState(t),[w,_]=i.useState(!0),[I,R]=i.useState(!0),[O,A]=i.useState({id:null,name:"",state:1});return e.jsxs(e.Fragment,{children:[e.jsx(Mt,{icon:Ne,message:"Gestión de cajas",name:"nueva caja",setOpen:v,setOption:f,setData:N,initialState:t}),e.jsxs(Q,{children:[e.jsx(Q.SearchDate,{setHelper:p,startDate:n,setStartDate:a,finishDate:u,setFinishDate:m,setPage:l,handleReset:()=>{a(""),m(""),l(1),_(!0),p(T=>T+1)}}),e.jsx(cs,{}),e.jsx(Q.FilterBar,{hide:!n&&!u,data:[{tag:"Fecha de inicio",input:n.length>0?n:null,handleClick:()=>{a(""),l(1),p(T=>T+1)}},{tag:"Fecha de finalización",input:u.length>0?u:null,handleClick:()=>{m(""),l(1),p(T=>T+1)}}]}),e.jsx(Q.CardContainer,{children:x&w?e.jsx(re,{message:"Cargando cajas"}):((M=c.data)==null?void 0:M.length)===0?e.jsx("div",{className:"bg-white p-4 border rounded shadow-lg text-center",children:e.jsxs("p",{className:"text-gray-600 text-lg",children:[e.jsx(S,{icon:ce,css:"mr-3"}),"No hay datos disponibles."]})}):e.jsx(e.Fragment,{children:(B=c==null?void 0:c.data)==null?void 0:B.map((T,L)=>e.jsx(Q.CardContainer.Card,{mustAnimate:I,setMustAnimate:R,children:e.jsx(Vt,{cash_registerI:T,setCashRegister:N,setOption:f,setOpenModal:v,setHelper:p,setMustLoad:_,setMustAnimate:R,handleClick:()=>{A({id:T.id,name:K(T.created_at),state:T.state})}})},`${T.id}-${L}`))})}),e.jsx(Q.Pagination,{pageQuantity:c.current_page*c.per_page,quantity:c.total,setMustLoad:_,setLimit:r,setPage:l,nextPage:c.next_page_url,prevPage:c.prev_page_url,page:c.current_page,lastPage:c.last_page,setMustAnimate:R})]}),e.jsx(Ot,{cashRegister:h,option:d,open:b,setOpen:v,setMustLoad:_,setHelper:p}),e.jsx(It,{}),e.jsx(H,{cashRegister:O,handleClose:()=>A({id:null,name:"",state:1}),setHelper:p,setMustLoad:_})]})}function cs(){const[t,s]=i.useState(""),[l,o]=i.useState(2);return i.useEffect(()=>{const n=document.getElementById("cash_register").getAttribute("role");o(n)},[]),e.jsx(e.Fragment,{children:l==1?e.jsxs("div",{className:"bg-vetwhite shadow-2xl p-5 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-lg text-gray-600",children:"Ingresos / Egresos del mes"}),e.jsx("input",{type:"month",className:"p-2 rounded-xl bg-gray-300 w-full mt-2",value:t,onChange:r=>{s(r.target.value)}}),e.jsx("a",{href:t.length>0?`/cash_registers/get_excel_by_month?month=${t.split("-")[1]}&year=${t.split("-")[0]}`:"#",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded inline-flex mt-5 w-full",children:e.jsxs("span",{className:"mx-auto",children:[e.jsx(S,{icon:We,css:"mr-2",size:"25px"}),"Descargar Excel"]})})]}):null})}const us=Pt.createRoot(document.getElementById("cash_register"));us.render(e.jsx(ds,{}));
